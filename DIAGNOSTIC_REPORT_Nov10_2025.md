# –ü–æ–ª–Ω—ã–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è CMS
## –î–∞—Ç–∞: 10 –Ω–æ—è–±—Ä—è 2025 –≥.

---

## üìã –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥—ë–Ω –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º, –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å XAMPP. –ù–∞–π–¥–µ–Ω—ã **4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã** —Å —á—ë—Ç–∫–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏.

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –õ–æ–∫–∞—Ü–∏—è |
|----------|--------|-------------|---------|
| –ú–µ–¥–∏–∞—Ç–µ–∫–∞: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 | ‚úÖ –î–ò–ê–ì–ù–û–°–¢–ò–†–û–í–ê–ù–ê | –í–´–°–û–ö–ê–Ø | Backend: MediaController.php |
| –†–µ–¥–∞–∫—Ç–æ—Ä: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ | ‚úÖ –î–ò–ê–ì–ù–û–°–¢–ò–†–û–í–ê–ù–ê | –°–†–ï–î–ù–Ø–Ø | Frontend: editor.js + UI |
| –°—Ç—Ä–∞–Ω–∏—Ü—ã-–∫–æ–ª–ª–µ–∫—Ü–∏–∏: 404 –æ—à–∏–±–∫–∞ | ‚úÖ –î–ò–ê–ì–ù–û–°–¢–ò–†–û–í–ê–ù–ê | –í–´–°–û–ö–ê–Ø | Database: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞ |
| –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | üîç –¢–†–ï–ë–£–ï–¢ –£–¢–û–ß–ù–ï–ù–ò–Ø | –°–†–ï–î–ù–Ø–Ø | –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç |

---

## üî• –ü—Ä–æ–±–ª–µ–º–∞ #1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ –º–µ–¥–∏–∞—Ç–µ–∫—É (500 –æ—à–∏–±–∫–∞)

### –°–∏–º–ø—Ç–æ–º—ã
```
Console error:
/healthcare-cms-backend/public/api/media/upload:1  Failed to load resource: 
the server responded with a status of 500 (Internal Server Error)

media-library.js:245 Upload error: Error: Internal server error
```

### –ü—Ä–∏—á–∏–Ω–∞ (ROOT CAUSE)
**Foreign Key Constraint Violation:**
```
SQLSTATE[23000]: Integrity constraint violation: 1452 
Cannot add or update a child row: a foreign key constraint fails 
(`healthcare_cms`.`media`, CONSTRAINT `media_ibfk_1` 
FOREIGN KEY (`uploaded_by`) REFERENCES `users` (`id`) ON DELETE CASCADE)
```

**–õ–æ–∫–∞—Ü–∏—è:** `backend/src/Presentation/Controller/MediaController.php:76`

**–ö–æ–¥:**
```php
// TODO: Replace with actual auth
$uploadedBy = $_SESSION['user_id'] ?? '550e8400-e29b-41d4-a716-446655440001';
```

**–ü—Ä–æ–±–ª–µ–º–∞:** 
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ `$_SESSION['user_id']` (—Å–µ—Å—Å–∏—è –ø—É—Å—Ç–∞—è –∏–ª–∏ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)
2. Fallback UUID `550e8400-e29b-41d4-a716-446655440001` **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `users`**
3. –¢–∞–±–ª–∏—Ü–∞ `media` —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã `uploaded_by` —É–∫–∞–∑—ã–≤–∞–ª –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. MySQL –æ—Ç–∫–ª–æ–Ω—è–µ—Ç INSERT –∏–∑-–∑–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞

### –†–µ—à–µ–Ω–∏–µ

**–í–∞—Ä–∏–∞–Ω—Ç A (–ë—ã—Å—Ç—Ä—ã–π): –°–æ–∑–¥–∞—Ç—å fallback-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î**
```sql
INSERT INTO users (id, username, email, role, created_at) 
VALUES (
    '550e8400-e29b-41d4-a716-446655440001',
    'system',
    'system@healthcare-cms.local',
    'admin',
    NOW()
) ON DUPLICATE KEY UPDATE id=id;
```

**–í–∞—Ä–∏–∞–Ω—Ç B (–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π): –ü–æ—á–∏–Ω–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ `$_SESSION['user_id']` –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
2. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ frontend, –Ω–æ —Å–µ—Å—Å–∏—è –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ backend API:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cookies (–¥–æ–º–µ–Ω, SameSite)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏ `session_start()` –≤ `backend/public/index.php`
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (testuser) –µ—Å—Ç—å –≤ –ë–î —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID

**–í–∞—Ä–∏–∞–Ω—Ç C (–ö–æ–º–ø—Ä–æ–º–∏—Å—Å): –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ID testuser**
```php
// –í–º–µ—Å—Ç–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ UUID, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ID —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$uploadedBy = $_SESSION['user_id'] ?? '550e8400-e29b-41d4-a716-446655440000'; // testuser ID
```

**–í–∞–∂–Ω–æ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è testuser –≤ –ë–î:
```sql
SELECT id, username FROM users WHERE username = 'testuser';
```

---

## üî• –ü—Ä–æ–±–ª–µ–º–∞ #2: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### –°–∏–º–ø—Ç–æ–º—ã
–ò–∑ –ª–æ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
[API 4] ‚Üí GET /api/auth/me (auth check before save #1)
[API 5] ‚Üí PUT /api/pages/... (save #1)
[API 6] ‚Üí GET /api/auth/me (auth check before save #2)  ‚Üê –î–£–ë–õ–ò–ö–ê–¢
[API 7] ‚Üí PUT /api/pages/... (save #2)                 ‚Üê –î–£–ë–õ–ò–ö–ê–¢
[API 8] ‚Üí PUT /api/pages/.../publish (publish)
```

**–ù–∞–±–ª—é–¥–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `savePage()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è **–¥–≤–∞–∂–¥—ã** –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π.

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

**–ö–Ω–æ–ø–∫–∏ –≤ editor.html:**
```html
<button @click="savePage">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
<button @click="publishPage">üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
```

**–ú–µ—Ç–æ–¥ publishPage() –≤ editor.js:**
```javascript
async publishPage() {
    if (!this.currentPageId) {
        this.showNotification('–°–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É', 'error');
        return;
    }
    await this.apiClient.publishPage(this.currentPageId);
    // ...
}
```

**–í—ã–≤–æ–¥:** `publishPage()` –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç `savePage()`. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤ –∫–æ–¥–µ.

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **Double-click:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
2. **Auto-save timer:** –ï—Å–ª–∏ –µ—Å—Ç—å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥ (—É–ø–æ–º–∏–Ω–∞–ª–æ—Å—å –≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö), —Ç–∞–π–º–µ—Ä –º–æ–∂–µ—Ç —Å—Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —Ä—É—á–Ω—ã–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
3. **Vue reactivity bug:** Watcher –∏–ª–∏ computed property –≤—ã–∑—ã–≤–∞–µ—Ç `savePage()` –≤—Ç–æ—Ä–æ–π —Ä–∞–∑
4. **Multiple event listeners:** –ï—Å–ª–∏ `@click` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –±—ã–ª –ø—Ä–∏–≤—è–∑–∞–Ω –¥–≤–∞–∂–¥—ã (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å Vue)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ auto-save
–ù–∞–π—Ç–∏ –≤ editor.js:
```javascript
// –ü–æ–∏—Å–∫: setInterval.*savePage|auto.*save|every.*10.*second
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:** –í –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º –∫–æ–¥–µ –ù–ï–¢ –≤–∏–¥–∏–º–æ–≥–æ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ –∏–ª–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

### –†–µ—à–µ–Ω–∏–µ

**–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ:**
1. –î–æ–±–∞–≤–∏—Ç—å debounce –Ω–∞ –∫–Ω–æ–ø–∫—É "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫)
2. –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `isSaving` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

**–ö–æ–¥-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (editor.js):**
```javascript
data() {
    return {
        isSaving: false,  // –î–æ–±–∞–≤–∏—Ç—å
        // ...
    }
},
methods: {
    async savePage() {
        if (this.isSaving) {
            console.warn('[SAVE BLOCKED] Already saving...');
            return;
        }
        
        this.isSaving = true;  // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞
        
        try {
            // ... –≤–µ—Å—å –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        } finally {
            this.isSaving = false;  // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
        }
    }
}
```

**HTML (editor.html):**
```html
<button @click="savePage" :disabled="isSaving" class="toolbar-btn save">
    {{ isSaving ? '‚è≥ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...' : 'üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å' }}
</button>
```

---

## üî• –ü—Ä–æ–±–ª–µ–º–∞ #3: –°—Ç—Ä–∞–Ω–∏—Ü–∞-–∫–æ–ª–ª–µ–∫—Ü–∏—è "–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã" ‚Üí 404

### –°–∏–º–ø—Ç–æ–º—ã
```
URL: http://localhost/healthcare-cms-backend/page/all-materials
–†–µ–∑—É–ª—å—Ç–∞—Ç: 404 Not Found
```

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î:**
```bash
$ php backend/check-collection-page.php

=== Checking page: all-materials ===
‚úó Page NOT found in database!

=== All collection pages ===
No collection pages found!
```

**ROOT CAUSE: –°–¢–†–ê–ù–ò–¶–ê –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ –í –ë–ê–ó–ï –î–ê–ù–ù–´–•**

### –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏—è

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–µ–ª –≤ –ø–µ—Ä–≤–æ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã" –∏ —Å–µ–∫—Ü–∏—è–º–∏ "–ì–∞–π–¥—ã" / "–°—Ç–∞—Ç—å–∏". –≠—Ç–æ —Å–æ–∑–¥–∞–ª–æ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ, —á—Ç–æ collection-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

**–ù–û:** –≠—Ç–æ –º–æ–≥–ª–∞ –±—ã—Ç—å:
1. –°—Ç–∞—Ä–∞—è cached –≤–µ—Ä—Å–∏—è (–¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î)
2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞/—Å–µ—Ä–≤–µ—Ä–∞
3. Mockup/–ø—Ä–æ—Ç–æ—Ç–∏–ø

### –†–µ—à–µ–Ω–∏–µ

**–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É-–∫–æ–ª–ª–µ–∫—Ü–∏—é –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:**

1. –û—Ç–∫—Ä—ã—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä: `http://localhost/healthcare-cms-frontend/editor.html`
2. –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** "–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã" (–∏–ª–∏ "–ì–∞–π–¥—ã –∏ —Å—Ç–∞—Ç—å–∏")
   - **Slug:** `all-materials`
   - **–¢–∏–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** `Collection` (–∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞)
   - **SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫:** "–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Äî Healthcare Hacks Brazil"
   - **SEO –æ–ø–∏—Å–∞–Ω–∏–µ:** "–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –≥–∞–π–¥–æ–≤ –∏ —Å—Ç–∞—Ç–µ–π –æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–µ –ë—Ä–∞–∑–∏–ª–∏–∏"
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Collection Config:
   - –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª–µ "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø—ã": –≤—ã–±—Ä–∞—Ç—å `guides` –∏ `articles`
   - –ò–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å (üíæ)
6. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (üöÄ)

**–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```
http://localhost/healthcare-cms-backend/page/all-materials
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–ï—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ SQL:

```sql
INSERT INTO pages (
    id, 
    title, 
    slug, 
    type, 
    status, 
    seo_title, 
    seo_description,
    collection_config,
    created_by,
    created_at,
    updated_at
) VALUES (
    UUID(),
    '–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
    'all-materials',
    'collection',
    'published',
    '–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Äî Healthcare Hacks Brazil',
    '–ü–æ–ª–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –≥–∞–π–¥–æ–≤ –∏ —Å—Ç–∞—Ç–µ–π –æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–µ –ë—Ä–∞–∑–∏–ª–∏–∏',
    '{"sections": ["guides", "articles"]}',  -- JSON –∫–æ–Ω—Ñ–∏–≥
    (SELECT id FROM users WHERE username = 'testuser' LIMIT 1),
    NOW(),
    NOW()
);
```

**–ü–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
php backend/check-collection-page.php
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
‚úì Page found!
Type: collection
Status: published
```

---

## üü° –ü—Ä–æ–±–ª–µ–º–∞ #4: –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç

### –°–∏–º–ø—Ç–æ–º—ã (–∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- "–í–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç"
- "–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ —Ä–∞–Ω—å—à–µ, –Ω–µ—Ç CMS"

### –¢—Ä–µ–±—É—é—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏—è

**–ù–µ —è—Å–Ω–æ:**
1. –ö–∞–∫–∞—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞?
2. –ö–∞–∫–æ–π URL –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω?
3. –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–ª –±—Ä–∞—É–∑–µ—Ä: –ø—É—Å—Ç—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –æ—à–∏–±–∫—É, —á–∞—Å—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç?

### –ì–∏–ø–æ—Ç–µ–∑—ã

**H1: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞**
- –°—Ç–∞—Ç—É—Å = `draft` –≤–º–µ—Å—Ç–æ `published`
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `SELECT status FROM pages WHERE slug = '...'`

**H2: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç rendered_html**
- –ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î –ø–æ–ª–µ `rendered_html` –º–æ–∂–µ—Ç –±—ã—Ç—å NULL
- PublicPageController —Ä–µ–Ω–¥–µ—Ä–∏—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `rendered_html IS NOT NULL`
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `SELECT title, slug, rendered_html IS NULL FROM pages WHERE status = 'published'`

**H3: –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–µ—à–µ–º –±—Ä–∞—É–∑–µ—Ä–∞**
- –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é (–¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è)
- –†–µ—à–µ–Ω–∏–µ: Ctrl+Shift+R (hard refresh)

**H4: –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å URL**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–ª `frontend/` –≤–º–µ—Å—Ç–æ `backend/page/...`
- Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä, –Ω–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –¢–µ—Å—Ç –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É testuser:**
```
URL: http://localhost/healthcare-cms-backend/page/testiruem-vosstanovlenie
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ source:**
```html
<!-- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: -->
<!-- SERVED=pre-rendered | length=XXX | ts=TIMESTAMP -->
<!-- –ò–õ–ò: -->
<!-- SERVED=runtime | length=XXX | ts=TIMESTAMP -->
```

**–ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ—Ç:** 404 –∏–ª–∏ –æ—à–∏–±–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

**–ï—Å–ª–∏ `SERVED=pre-rendered` –Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Å—Ç–∞—è:**
- `rendered_html` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
- –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π HTML)

**–ï—Å–ª–∏ `SERVED=runtime` –Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Å—Ç–∞—è:**
- –ë–ª–æ–∫–∏ –µ—Å—Ç—å, –Ω–æ runtime builder –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `backend/logs/public-page-debug.log`

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å

```
c:\Users\annal\Documents\–ú–æ–∏ —Å–∞–π—Ç—ã\–°–∞–π—Ç –æ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –ë—Ä–∞–∑–∏–ª–∏–∏\–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å–∞–π—Ç–∞ —Å CMS\
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Presentation/Controller/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MediaController.php ‚úÖ (MD5: synced)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PublicPageController.php ‚úÖ (MD5: 21863BBB...)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Application/UseCase/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UploadMedia.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GetCollectionItems.php ‚úÖ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.php ‚úÖ (routing OK)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uploads/ (3 —Ñ–∞–π–ª–∞)
‚îÇ   ‚îî‚îÄ‚îÄ scripts/
‚îÇ       ‚îú‚îÄ‚îÄ diagnose.php ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ restore_media_db.php ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ frontend/
    ‚îú‚îÄ‚îÄ editor.html ‚úÖ
    ‚îú‚îÄ‚îÄ editor.js ‚úÖ (root, –Ω–µ –≤ js/)
    ‚îú‚îÄ‚îÄ js/
    ‚îÇ   ‚îú‚îÄ‚îÄ InlineEditorManager.js ‚úÖ
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ ...
```

### XAMPP (—Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ)

```
C:\xampp\htdocs\
‚îú‚îÄ‚îÄ healthcare-cms-backend/
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.php ‚úÖ (routing OK)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ uploads/ (8 —Ñ–∞–π–ª–æ–≤ UUID.jpg/png)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Presentation/Controller/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MediaController.php ‚úÖ (MD5 —Å–æ–≤–ø–∞–¥–∞–µ—Ç)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ PublicPageController.php ‚úÖ (MD5: 21863BBB...)
‚îÇ   ‚îî‚îÄ‚îÄ logs/
‚îÇ       ‚îú‚îÄ‚îÄ routing.log ‚úÖ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã)
‚îÇ       ‚îî‚îÄ‚îÄ errors.log ‚úÖ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç FK violation)
‚îî‚îÄ‚îÄ healthcare-cms-frontend/
    ‚îú‚îÄ‚îÄ editor.html ‚úÖ
    ‚îú‚îÄ‚îÄ editor.js ‚úÖ
    ‚îú‚îÄ‚îÄ js/
    ‚îÇ   ‚îú‚îÄ‚îÄ InlineEditorManager.js ‚úÖ
    ‚îÇ   ‚îî‚îÄ‚îÄ ...
    ‚îî‚îÄ‚îÄ ...
```

**–í—ã–≤–æ–¥:** –§–∞–π–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ü—Ä–æ–±–ª–µ–º—ã –Ω–µ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### üî¥ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ú–µ–¥–∏–∞—Ç–µ–∫–∞ (–∫—Ä–∏—Ç–∏—á–Ω–æ)

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ–∑–¥–∞—Ç—å fallback-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î

**–°–∫—Ä–∏–ø—Ç:**
```bash
cd backend
php -r "
\$pdo = new PDO('mysql:host=localhost;dbname=healthcare_cms', 'root', '');
\$pdo->exec(\"INSERT INTO users (id, username, email, role, created_at) 
VALUES ('550e8400-e29b-41d4-a716-446655440001', 'system', 'system@local', 'admin', NOW()) 
ON DUPLICATE KEY UPDATE id=id\");
echo 'Fallback user created';
"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-frontend`
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ú–µ–¥–∏–∞—Ç–µ–∫—É (üñºÔ∏è)
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ (–±–µ–∑ 500 –æ—à–∏–±–∫–∏)

### üü° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ (—Å—Ä–µ–¥–Ω–∏–π)

**–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞

1. –û—Ç–∫—Ä—ã—Ç—å `frontend/editor.js`
2. –î–æ–±–∞–≤–∏—Ç—å `isSaving: false` –≤ `data()`
3. –û–±–Ω–æ–≤–∏—Ç—å `savePage()` —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π (—Å–º. –∫–æ–¥ –≤—ã—à–µ)
4. –û–±–Ω–æ–≤–∏—Ç—å `editor.html` –∫–Ω–æ–ø–∫—É (–¥–æ–±–∞–≤–∏—Ç—å `:disabled`)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±–ª–æ–∫–∞–º–∏
2. –ë—ã—Å—Ç—Ä–æ –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω—É—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Å–æ–ª–∏: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –û–î–ù–û —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –±–ª–æ–∫–∏ –ù–ï –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è

### üî¥ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°—Ç—Ä–∞–Ω–∏—Ü–∞-–∫–æ–ª–ª–µ–∫—Ü–∏—è (–∫—Ä–∏—Ç–∏—á–Ω–æ)

**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä

1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-frontend/editor.html`
2. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã"
   - Slug: `all-materials`
   - –¢–∏–ø: Collection
   - SEO –∑–∞–ø–æ–ª–Ω–∏—Ç—å
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å + –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
4. –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-backend/page/all-materials`
5. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (–Ω–µ 404)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):**
–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL-—Å–∫—Ä–∏–ø—Ç (—Å–º. –≤—ã—à–µ –≤ —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ–±–ª–µ–º–∞ #3)

### üü° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ)

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-backend/page/testiruem-vosstanovlenie`
2. –ï—Å–ª–∏ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
   - –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - –ü–µ—Ä–µ–æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å (–∫–Ω–æ–ø–∫–∞ üöÄ)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞
3. –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `rendered_html` –≤ –ë–î
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ `backend/logs/public-page-debug.log`

---

## üìä –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã (—Å–æ–∑–¥–∞–Ω—ã)

### backend/check-collection-page.php
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü-–∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ –ë–î

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
cd backend
php check-collection-page.php
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
```
‚úì Connected to database

=== Checking page: all-materials ===
‚úì Page found!
ID: xxx-xxx-xxx
Title: –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
Type: collection
Status: published
Collection Config: {...}

=== All collection pages ===
- –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (slug: all-materials, status: published)
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å fallback user (–ü—Ä–æ–±–ª–µ–º–∞ #1)
   - ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É-–∫–æ–ª–ª–µ–∫—Ü–∏—é (–ü—Ä–æ–±–ª–µ–º–∞ #3)

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –ú–µ–¥–∏–∞—Ç–µ–∫–∞: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
   - –†–µ–¥–∞–∫—Ç–æ—Ä: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ + –ø—É–±–ª–∏–∫–∞—Ü–∏—è (–±–µ–∑ –¥—É–±–ª–µ–π)
   - –ö–æ–ª–ª–µ–∫—Ü–∏—è: —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ `/page/all-materials`
   - –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É

3. **–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å XAMPP –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑
   - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

4. **–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:**
   - –°–æ–±—Ä–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–ª–æ–≥–∏, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, URL)
   - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

---

## üìù –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ú–µ–¥–∏–∞—Ç–µ–∫–∞
- [ ] –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-frontend`
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å üñºÔ∏è –ú–µ–¥–∏–∞—Ç–µ–∫–∞
- [ ] –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª (JPG –∏–ª–∏ PNG)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: —Ñ–∞–π–ª –ø–æ—è–≤–∏–ª—Å—è –≤ —Å–ø–∏—Å–∫–µ
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: preview –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ –†–µ–¥–∞–∫—Ç–æ—Ä
- [ ] –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-frontend/editor.html`
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –î–æ–±–∞–≤–∏—Ç—å 2-3 –±–ª–æ–∫–∞
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏: —Ç–æ–ª—å–∫–æ –û–î–ù–û —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- [ ] –ö–ª–∏–∫–Ω—É—Ç—å üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞ "Published"

### ‚úÖ –ö–æ–ª–ª–µ–∫—Ü–∏—è
- [ ] –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-backend/page/all-materials`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (–Ω–µ 404)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–µ–∫—Ü–∏–∏ "–ì–∞–π–¥—ã" –∏ "–°—Ç–∞—Ç—å–∏"
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–µ–π/–≥–∞–π–¥–æ–≤ –≤–∏–¥–Ω—ã

### ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –û—Ç–∫—Ä—ã—Ç—å `http://localhost/healthcare-cms-backend/page/testiruem-vosstanovlenie`
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è: –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å source: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π `<!-- SERVED=... -->`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –¢–∞–±–ª–∏—Ü–∞ `users` (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è FK)
```sql
CREATE TABLE users (
    id VARCHAR(36) PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    role ENUM('admin', 'editor') DEFAULT 'editor',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### –¢–∞–±–ª–∏—Ü–∞ `media` (FK —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ users)
```sql
CREATE TABLE media (
    id VARCHAR(36) PRIMARY KEY,
    filename VARCHAR(255) NOT NULL,
    url TEXT NOT NULL,
    type ENUM('image', 'svg', 'document') NOT NULL,
    size INT NOT NULL,
    uploaded_by VARCHAR(36) NOT NULL,  -- FK ‚Üí users.id
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (uploaded_by) REFERENCES users(id) ON DELETE CASCADE
);
```

### Clean Architecture: —Å–ª–æ–∏ –∏ –∏—Ö —Ä–æ–ª—å

**Presentation Layer** (`src/Presentation/Controller/`)
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í—ã–∑—ã–≤–∞–µ—Ç Use Cases
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-–æ—Ç–≤–µ—Ç—ã

**Application Layer** (`src/Application/UseCase/`)
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç Domain Entities –∏ Repositories
- –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ—Ç–∞–ª–µ–π (–ë–î, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)

**Infrastructure Layer** (`src/Infrastructure/Repository/`)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (MySQL)
- –î–æ—Å—Ç—É–ø –∫ –ë–î —á–µ—Ä–µ–∑ PDO
- –ú–∞–ø–ø–∏–Ω–≥ Entity ‚Üî DB

**Domain Layer** (`src/Domain/Entity/`)
- –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (MediaFile, Page, User)
- –ß–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

---

## üìû –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:

1. ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç—ã —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ –º–µ–¥–∏–∞—Ç–µ–∫—É
2. ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã-–∫–æ–ª–ª–µ–∫—Ü–∏–∏ `/page/all-materials`
3. ‚úÖ –õ–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏)
4. ‚ùå URL –ø—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å, —á—Ç–æ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã.

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á—ë—Ç–∞**
