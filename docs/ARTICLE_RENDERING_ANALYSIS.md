# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º —Å—Ç–∞—Ç—å–∏
**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025, 00:10  
**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å, —á—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å –∏ –∫–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

---

## 1. –ß–¢–û –î–û–õ–ñ–ù–û –ë–´–¢–¨ –í –ò–î–ï–ê–õ–ï

### –î–æ Collection Page (–¥–æ 19 –æ–∫—Ç—è–±—Ä—è 2025)

**‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (Phase 2 Complete - 18 –æ–∫—Ç—è–±—Ä—è):**

1. **–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä** (`editor.html`)
   - ‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±–ª–æ–∫–æ–≤ (Main Screen, Page Header, Text Block, Service Cards, Article Cards, Gallery)
   - ‚úÖ Preview –æ–±–ª–∞—Å—Ç—å —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –±–ª–æ–∫–æ–≤
   - ‚úÖ Settings Panel —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ (–°—Ç—Ä–∞–Ω–∏—Ü–∞/–ë–ª–æ–∫/–ì–ª–æ–±–∞–ª—å–Ω—ã–µ)
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "‚úçÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Quill —Ä–µ–¥–∞–∫—Ç–æ—Ä
   - ‚úÖ –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–®–∞–±–ª–æ–Ω—ã, –ì–∞–ª–µ—Ä–µ—è, –ú–µ–¥–∏–∞—Ç–µ–∫–∞)

2. **Article Editor** (Quill —Ä–µ–¥–∞–∫—Ç–æ—Ä)
   - ‚úÖ Full-screen —Ä–µ–∂–∏–º —Å —Ç–µ–º–Ω—ã–º toolbar
   - ‚úÖ Quill toolbar (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "‚úì –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∑–∞–∫—Ä—ã—Ç—å" –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç HTML –≤ –±–ª–æ–∫
   - ‚úÖ –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç–∞—Ç—å—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ preview –∫–∞–∫ `text-block` —Å `containerStyle: 'article'`

3. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–ª–æ–∫–æ–≤** (`editor.js::renderBlock()`)
   - ‚úÖ –ö–∞–∂–¥—ã–π —Ç–∏–ø –±–ª–æ–∫–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π –º–µ—Ç–æ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
   - ‚úÖ `renderTextBlock()` - —Ä–µ–Ω–¥–µ—Ä–∏—Ç text-block —Å HTML –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
   - ‚úÖ –°—Ç–∏–ª–∏ –±–ª–æ–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `editor-preview.css`

4. **–ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** (`PublicPageController.php`)
   - ‚úÖ –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —á–µ—Ä–µ–∑ PHP –Ω–∞ backend
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `PublicPageController::renderPage()` —Å switch –ø–æ —Ç–∏–ø–∞–º –±–ª–æ–∫–æ–≤
   - ‚ö†Ô∏è **–ù–ï —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã** —Å frontend —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º (—Å–º. `SYNC_LAYER_ARCHITECTURE_ANALYSIS.md`)

5. **–≠–∫—Å–ø–æ—Ä—Ç HTML**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ `renderBlock()`, —á—Ç–æ –∏ preview
   - ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π HTML —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º CSS
   - ‚úÖ –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª

---

## 2. –ß–ï–ì–û –ù–ê–ú –ù–ï –•–í–ê–¢–ê–ï–¢ –°–ï–ô–ß–ê–°

### –ü—Ä–æ–±–ª–µ–º–∞ A: –°—Ç–∞—Ç—å—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∞—Å—å, –Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ Quill —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—å—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ preview
- –ù–æ HTML –≤—ã–≥–ª—è–¥–∏—Ç **–∫–∞–∫ —Å—ã—Ä–æ–π HTML-–∫–æ–¥**, –∞ –Ω–µ –∫–∞–∫ –æ—Ç—Ä–µ–Ω–¥–µ—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç—å—è
- –í preview –≤–∏–¥–Ω—ã —Ç–µ–≥–∏: `<h1 class="ql-align-center"><strong>Lorem Ipsum</strong></h1><p>Lorem ipsum dolor...`

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –°—Ç–∞—Ç—å—è –¥–æ–ª–∂–Ω–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –∫–∞–∫ **–≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç**
- –ó–∞–≥–æ–ª–æ–≤–∫–∏, –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã HTML —Ç–µ–≥–∏

**–ü—Ä–∏—á–∏–Ω–∞ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ):**
1. HTML –∏–∑ Quill –ù–ï —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —á–µ—Ä–µ–∑ `renderBlock()`
2. –ò–ª–∏ CSS —Å—Ç–∏–ª–∏ –¥–ª—è `.article-container` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç/–Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
3. –ò–ª–∏ `DOMPurify` —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –æ—á–∏—â–∞–µ—Ç HTML

---

### –ü—Ä–æ–±–ª–µ–º–∞ B: Inline Editor –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (currentPageId = null)

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –ø—ã—Ç–∞–µ–º—Å—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å inline
- –û—à–∏–±–∫–∞: `url: /healthcare-cms-backend/api/pages/null/inline`
- `currentPageId` = `null`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –±—ã–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- –£ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –µ—â—ë –Ω–µ—Ç ID –¥–æ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `InlineEditorManager` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è `pageId=null` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π workflow:**
1. –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é ‚Üí –∑–∞–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É** —á–µ—Ä–µ–∑ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—É—á–∞–µ—Ç ID
3. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å inline editing

---

### –ü—Ä–æ–±–ª–µ–º–∞ C: "A form field element should have an id or name attribute"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –ì–¥–µ-—Ç–æ –≤ —Ñ–æ—Ä–º–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∞—Ç—Ä–∏–±—É—Ç—ã `id` –∏–ª–∏ `name`

**–ü—Ä–∏—á–∏–Ω–∞:**
- –í–µ—Ä–æ—è—Ç–Ω–æ, –≤ `editor.html` –µ—Å—Ç—å `<input>` –∏–ª–∏ `<textarea>` –±–µ–∑ `name`
- –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–ª—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ HTML

---

## 3. –ü–û–ß–ï–ú–£ –ü–û–Ø–í–ò–õ–ê–°–¨ –ü–†–û–ë–õ–ï–ú–ê –°–û –°–¢–ê–¢–¨–Å–ô

### Timeline —Å–æ–±—ã—Ç–∏–π:

**10 –æ–∫—Ç—è–±—Ä—è 2025:**
- ‚úÖ Article Editor –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ CSS
- ‚úÖ Quill —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–ª
- ‚úÖ –°—Ç–∞—Ç—å—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å –≤ –±–ª–æ–∫ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**16-18 –æ–∫—Ç—è–±—Ä—è 2025:**
- ‚úÖ Phase 2: Refactoring sync layer (EntityToArrayTransformer)
- ‚úÖ Phase 2: XSS Prevention (DOMPurify, HTMLPurifier, CSP)
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—ã–ª–∏ **–Ω–∞ backend** - –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ —Å–ª–æ–º–∞—Ç—å frontend

**19 –æ–∫—Ç—è–±—Ä—è 2025:**
- ‚ö†Ô∏è –ù–∞—á–∞–ª–∏ –¥–æ–±–∞–≤–ª—è—Ç—å Collection Page —Ñ–∏—á—É
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏–ª–∏ security features (CSRF, auth, audit)
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–º–µ–Ω–∏–ª–∏ —á—Ç–æ-—Ç–æ –≤ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ –±–ª–æ–∫–æ–≤

**19 –æ–∫—Ç—è–±—Ä—è 2025 (–Ω–æ—á—å):**
- ‚ùå MySQL –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ª–æ–º–∞–Ω
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ MySQL –∏–∑ backup (healthcare_cms_20251009_005206.sql)
- ‚ùå **–û–¢–ö–ê–¢–ò–õ–ò–°–¨ –ù–ê –°–¢–ê–†–£–Æ –ë–ê–ó–£** (–æ—Ç 9 –æ–∫—Ç—è–±—Ä—è)
- ‚ùå –ü–æ—Ç–µ—Ä—è–ª–∏ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ 10-19 –æ–∫—Ç—è–±—Ä—è –≤ –ë–î
- ‚ö†Ô∏è –ù–æ –∫–æ–¥ –æ—Å—Ç–∞–ª—Å—è –Ω–æ–≤—ã–º (–æ—Ç 19 –æ–∫—Ç—è–±—Ä—è)

**20 –æ–∫—Ç—è–±—Ä—è 2025 (—Å–µ–π—á–∞—Å):**
- ‚ùå –°—Ç–∞—Ç—å—è —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚ùå Inline editor –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (pageId=null)

---

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø–æ–ª–æ–º–∫–∏ —Å—Ç–∞—Ç—å–∏:

#### –ì–∏–ø–æ—Ç–µ–∑–∞ 1: DOMPurify —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–µ–Ω
**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:** Phase 2 XSS –¥–æ–±–∞–≤–∏–ª `DOMPurify.sanitize()` –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º HTML.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í editor.js
const sanitized = this.sanitizeHTML(this.articleHtml);
// –í–æ–∑–º–æ–∂–Ω–æ, sanitizeHTML() —É–¥–∞–ª—è–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç–µ–≥–∏/–∫–ª–∞—Å—Å—ã Quill
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `DOMPurify` - —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ª–∏ `.ql-align-*` –∫–ª–∞—Å—Å—ã, `<strong>`, `<em>`, `<img>`.

---

#### –ì–∏–ø–æ—Ç–µ–∑–∞ 2: CSS —Å—Ç–∏–ª–∏ –¥–ª—è —Å—Ç–∞—Ç—å–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:** –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ CSS –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –¥–ª—è `.article-container` –∏–ª–∏ `.ql-*` –∫–ª–∞—Å—Å–æ–≤ Quill.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Elements
- –ù–∞–π—Ç–∏ –±–ª–æ–∫ —Å—Ç–∞—Ç—å–∏ –≤ preview
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ª–∏ —Å—Ç–∏–ª–∏ –∫ `.article-container`, `.ql-editor`, `.ql-align-center`

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ Quill –≤ `editor-preview.css`:
```css
.article-container .ql-editor {
    min-height: auto;
    padding: 0;
}

.article-container .ql-align-center {
    text-align: center;
}

.article-container .ql-align-right {
    text-align: right;
}
```

---

#### –ì–∏–ø–æ—Ç–µ–∑–∞ 3: `renderTextBlock()` –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç HTML

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:** –í–æ–∑–º–æ–∂–Ω–æ, `renderTextBlock()` –∏–∑–º–µ–Ω–∏–ª—Å—è –∏ —Ç–µ–ø–µ—Ä—å —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML –≤–º–µ—Å—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í editor.js::renderTextBlock()
const content = data.content || '';
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
html += content; // –ë–ï–ó htmlspecialchars/escape

// –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
html += this.escapeHtml(content); // ‚ùå –≠—Ç–æ –∑–∞—ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Ç–µ–≥–∏
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `renderTextBlock()` –≤—Å—Ç–∞–≤–ª—è–µ—Ç HTML –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---

#### –ì–∏–ø–æ—Ç–µ–∑–∞ 4: `convertHtmlToBlocks()` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç RAW HTML –∫–∞–∫ text

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:** –ú–µ—Ç–æ–¥ `convertHtmlToBlocks()` –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å HTML-—Å—Ç—Ä–æ–∫—É –≤ `data.content` –≤–º–µ—Å—Ç–æ sanitized HTML.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
convertHtmlToBlocks(html) {
    // ...
    this.blocks.push({
        type: 'text-block',
        data: {
            content: html // ‚Üê –ó–¥–µ—Å—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTML, –∞ –Ω–µ escaped string
        }
    });
}
```

---

## 4. –ß–¢–û –ù–£–ñ–ù–û –í–û–°–°–¢–ê–ù–û–í–ò–¢–¨

### Priority 1: –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—å–∏ –≤ preview

**–¶–µ–ª—å:** –°—Ç–∞—Ç—å—è –∏–∑ Quill –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∞ –Ω–µ –∫–∞–∫ HTML-–∫–æ–¥.

**–ü–ª–∞–Ω:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `renderTextBlock()` –≤ `editor.js` - —Ä–µ–Ω–¥–µ—Ä–∏—Ç –ª–∏ HTML –Ω–∞–ø—Ä—è–º—É—é
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSS —Å—Ç–∏–ª–∏ –¥–ª—è `.article-container` –∏ `.ql-*` –∫–ª–∞—Å—Å–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `DOMPurify` - —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ª–∏ –Ω—É–∂–Ω—ã–µ —Ç–µ–≥–∏/–∫–ª–∞—Å—Å—ã
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `convertHtmlToBlocks()` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è HTML

---

### Priority 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (pageId)

**–¶–µ–ª—å:** –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å ID.

**–ü–ª–∞–Ω:**
1. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è article editor: "–°—Ç–∞—Ç—å—è –¥–æ–±–∞–≤–ª–µ–Ω–∞. –ù–∞–∂–º–∏—Ç–µ üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã."
2. –û—Ç–∫–ª—é—á–∏—Ç—å inline editing –µ—Å–ª–∏ `currentPageId === null`
3. –ü–æ–∫–∞–∑–∞—Ç—å hint: "–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º inline editing"

---

### Priority 3: Inline Editor (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

**–¶–µ–ª—å:** –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã inline editing –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ü–ª–∞–Ω:**
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `currentPageId` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ `savePage()`
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `InlineEditorManager` –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `pageId`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å inline editing –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

---

## 5. –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–°–ï–ô–ß–ê–°)

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å `editor.js` ‚Üí –Ω–∞–π—Ç–∏ `renderTextBlock()`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è `data.content`
3. –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Elements ‚Üí –Ω–∞–π—Ç–∏ –±–ª–æ–∫ —Å—Ç–∞—Ç—å–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ CSS —Å—Ç–∏–ª–∏

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- `renderTextBlock()` –¥–æ–ª–∂–µ–Ω –≤—Å—Ç–∞–≤–ª—è—Ç—å HTML —á–µ—Ä–µ–∑ `innerHTML`
- –°—Ç–∏–ª–∏ `.ql-align-*` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- HTML –¥–æ–ª–∂–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è, –∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç

---

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–ï—Å–ª–∏ `renderTextBlock()` —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML:**
```javascript
// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
html += `<div class="article-container">${this.escapeHtml(content)}</div>`;

// –î–û–õ–ñ–ù–û –ë–´–¢–¨:
html += `<div class="article-container">${content}</div>`;
```

**–ï—Å–ª–∏ CSS —Å—Ç–∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç:**
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ Quill –≤ `editor-preview.css`
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ XAMPP
- –°–¥–µ–ª–∞—Ç—å Ctrl+F5 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä—ã—Ç—å editor.html
2. –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é —á–µ—Ä–µ–∑ "‚úçÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é"
3. –ó–∞–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å preview** - —Å—Ç–∞—Ç—å—è –¥–æ–ª–∂–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É** —á–µ—Ä–µ–∑ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å inline editing** - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

---

## 6. –ß–¢–û –ù–ï –¢–†–û–ì–ê–ï–ú (–ü–û–ö–ê)

- ‚ùå Collection Page —Ñ–∏—á–∞ - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º
- ‚ùå Security features –¥–ª—è Collection Page - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º
- ‚ùå –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (PublicPageController) - –ø–æ–∫–∞ –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
- ‚ùå Sync layer architecture - —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (Phase 2 Complete)

---

## –í–´–í–û–î–´

1. **–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ç–∞—Ç—å—è —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∫ HTML-–∫–æ–¥, –∞ –Ω–µ –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
2. **–ü—Ä–∏—á–∏–Ω–∞**: –í–µ—Ä–æ—è—Ç–Ω–æ, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `renderTextBlock()` –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CSS —Å—Ç–∏–ª–µ–π
3. **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ CSS, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
4. **Inline Editor**: –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (—ç—Ç–æ –Ω–æ—Ä–º–∞)
5. **Collection Page**: –û—Ç–∫–ª–∞–¥—ã–≤–∞–µ–º –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–°–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `renderTextBlock()` –≤ `editor.js`
