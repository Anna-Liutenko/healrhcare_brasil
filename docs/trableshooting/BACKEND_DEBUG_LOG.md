# –õ–æ–≥ –æ—Ç–ª–∞–¥–∫–∏ Backend API

**–î–∞—Ç–∞:** 2025-10-04
**–ü—Ä–æ–µ–∫—Ç:** Healthcare Brazil CMS
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** Backend API + Visual Editor

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Backend (–®–ê–ì 1-5)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã backend –ø–∞–ø–∫–∏:**
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `composer.json`, `config/`, `public/`, `src/`, `vendor/`
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –Ω–∞–ª–∏—á–∏–µ `vendor/` (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ë–î:**
  - –§–∞–π–ª: `config/database.php`
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
    - DB_HOST: `localhost` (—á–µ—Ä–µ–∑ getenv, fallback: localhost)
    - DB_DATABASE: `healthcare_cms`
    - DB_USERNAME: `root`
    - DB_PASSWORD: (–ø—É—Å—Ç–æ)
  - –§–∞–π–ª `.env` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚úÖ

- ‚úÖ **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ backend –≤ htdocs:**
  - **–ü–æ–ø—ã—Ç–∫–∞ 1:** `xcopy` - –û–®–ò–ë–ö–ê (–ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–∞–≤—ã—á–∫–∞–º–∏ –≤ bash)
  - **–ü–æ–ø—ã—Ç–∫–∞ 2:** `robocopy` - –û–®–ò–ë–ö–ê (–Ω–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `/E`)
  - **–ü–æ–ø—ã—Ç–∫–∞ 3:** `PowerShell Copy-Item` - –£–°–ü–ï–• ‚úÖ
  - –ö–æ–º–∞–Ω–¥–∞:
    ```powershell
    Copy-Item -Path 'C:\Users\annal\Documents\–ú–æ–∏ —Å–∞–π—Ç—ã\...\backend'
              -Destination 'C:\xampp\htdocs\healthcare-cms-backend'
              -Recurse -Force
    ```

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ Apache –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
  - `mod_rewrite`: ‚úÖ –í–∫–ª—é—á–µ–Ω (`LoadModule rewrite_module modules/mod_rewrite.so`)
  - `AllowOverride`: –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ `findstr` - –û–®–ò–ë–ö–ê (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
  - `.htaccess` –≤ `public/`: ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≤ index.php:**
  - **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç –ø–æ–∫–∞–∑–∞–ª `{"error":"Endpoint not found"}`
  - **–ü—Ä–∏—á–∏–Ω–∞:** URI path –Ω–µ —Å–æ–¥–µ—Ä–∂–∞–ª –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è `/healthcare-cms-backend/public`
  - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ `index.php:28`:
    ```php
    $uri = str_replace('/healthcare-cms-backend/public', '', $uri);
    ```
  - **–†–µ–∑—É–ª—å—Ç–∞—Ç:** Health endpoint –∑–∞—Ä–∞–±–æ—Ç–∞–ª ‚úÖ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
curl http://localhost/healthcare-cms-backend/public/api/health
# {"status":"ok","service":"Expats Health Brazil CMS API","version":"1.0.0"}
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints (–®–ê–ì 6-7)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ Health endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç (200 OK)
- ‚úÖ Login endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç:
  ```json
  {
    "success": true,
    "token": "9ad7c5939a1de2024f18c15ce1b881041779f1e4a1c6ff36a329f6c75d00b607",
    "user": {
      "id": "7dac7651-a0a0-11f0-95ed-84ba5964b1fc",
      "username": "anna",
      "email": "anna@liutenko.onmicrosoft.com",
      "role": "super_admin"
    }
  }
  ```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Visual Editor

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**

- ‚úÖ **–ü–æ–∏—Å–∫ visual editor —Ñ–∞–π–ª–æ–≤:**
  - –ù–∞–π–¥–µ–Ω–æ 2 —Ñ–∞–π–ª–∞ –≤ `C:\xampp\htdocs\`:
    - `healthcare-cms/public/admin/visual-editor.html`
    - `healthcare-cms/public/admin/visual-editor-v2.html`
  - –ù–∞–π–¥–µ–Ω–∞ –ø–∞–ø–∫–∞: `C:\xampp\htdocs\visual-editor-standalone/`

- ‚úÖ **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã standalone —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:**
  - `index.html` (—Ä–µ–¥–∞–∫—Ç–æ—Ä)
  - `pages.html` (—Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü)
  - JavaScript –º–æ–¥—É–ª–∏: `api-client.js`, `editor.js`, `blocks.js`, `templates.js`

- ‚úÖ **–ü–æ–∏—Å–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ API_BASE_URL:**
  - **–ì–¥–µ –∏—Å–∫–∞–ª–∏:** `index.html` - –ù–ï –ù–ê–ô–î–ï–ù–û
  - **–ì–¥–µ –Ω–∞—à–ª–∏:** `api-client.js:7-8`
  - **–ë—ã–ª–æ:**
    ```javascript
    const API_BASE_URL = 'http://localhost/healthcare-cms/backend/public'
    ```
  - **–°—Ç–∞–ª–æ:**
    ```javascript
    const API_BASE_URL = 'http://localhost/healthcare-cms-backend/public'
    ```
  - **–§–∞–π–ª:** `api-client.js:8`

---

## ‚ùå –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞ #1: HTTP 400 Bad Request –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" - –æ—à–∏–±–∫–∞ HTTP 400
- –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:
  ```
  POST http://localhost/healthcare-cms-backend/public/api/pages
  400 (Bad Request)
  ```

**–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É frontend –∏ backend:

**Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª (snake_case):**
```javascript
{
  title: "...",
  slug: "...",
  type: "...",
  seo_title: "...",       // ‚ùå snake_case
  seo_description: "...", // ‚ùå snake_case
  seo_keywords: "...",    // ‚ùå snake_case
  created_by: "...",      // ‚ùå snake_case
  blocks: [...]
}
```

**Backend –æ–∂–∏–¥–∞–ª (camelCase):**
```php
[
  'title' => '...',
  'slug' => '...',
  'type' => '...',
  'seoTitle' => '...',       // ‚úÖ camelCase
  'seoDescription' => '...', // ‚úÖ camelCase
  'seoKeywords' => '...',    // ‚úÖ camelCase
  'createdBy' => '...',      // ‚úÖ camelCase
  'blocks' => [...]
]
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω `api-client.js:165-169` - –º–µ—Ç–æ–¥ `createPage()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `PageController.php:43-58` - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç UseCase
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `CreatePage.php:38-89` - **–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è!**
   - –¢—Ä–µ–±—É–µ—Ç: `title`, `slug`, `type`, **`createdBy`** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
   - –¢—Ä–µ–±—É–µ—Ç: SEO –ø–æ–ª—è –≤ camelCase: `seoTitle`, `seoDescription`, `seoKeywords`
4. –ü—Ä–æ–≤–µ—Ä–µ–Ω `editor.js:1113-1158` - **–ù–ê–ô–î–ï–ù–ê –û–®–ò–ë–ö–ê:**
   - Frontend –æ—Ç–ø—Ä–∞–≤–ª—è–ª: `created_by`, `seo_title`, `seo_description`, `seo_keywords`
   - Backend –æ–∂–∏–¥–∞–ª: `createdBy`, `seoTitle`, `seoDescription`, `seoKeywords`

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω `editor.js:1124-1139`:
```diff
const pageDataForAPI = {
    title: this.pageData.title,
    slug: this.pageData.slug,
    type: this.pageData.type || 'regular',
    status: this.pageData.status || 'draft',
-   seo_title: this.pageData.seoTitle || '',
-   seo_description: this.pageData.seoDescription || '',
-   seo_keywords: this.pageData.seoKeywords || '',
-   created_by: this.currentUser.id,
+   seoTitle: this.pageData.seoTitle || '',        // ‚úÖ camelCase
+   seoDescription: this.pageData.seoDescription || '', // ‚úÖ camelCase
+   seoKeywords: this.pageData.seoKeywords || '',  // ‚úÖ camelCase
+   createdBy: this.currentUser.id,                // ‚úÖ camelCase
    blocks: this.blocks.map((block, index) => ({
        type: block.type,
        position: index,
        data: block.data,
-       custom_name: block.customName || null
+       customName: block.customName || null       // ‚úÖ camelCase
    }))
};
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ UpdatePage.php:**
- ‚úÖ `UpdatePage.php:58-60` - —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç camelCase –¥–ª—è SEO –ø–æ–ª–µ–π
- ‚úÖ `UpdatePage.php:84-86` - –±–ª–æ–∫–∏ –æ–∂–∏–¥–∞—é—Ç `customName` (camelCase)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ CMS

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ `http://localhost/visual-editor-standalone/` –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
- –î–ª—è CMS –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü (pages list)

**–ü—Ä–∏—á–∏–Ω–∞:**
- `index.html` —Å–æ–¥–µ—Ä–∂–∞–ª –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- `pages.html` —Å–æ–¥–µ—Ä–∂–∞–ª —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω `pages.html:1-50` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `pages.html:623` - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `api-client.js` (—Å–≤—è–∑—å —Å API –µ—Å—Ç—å)
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ frontend:
   - `index.html` - **–≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä** (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è CMS)
   - `pages.html` - **—Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü** (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–ª–∞–≤–Ω–æ–π)

**–†–µ—à–µ–Ω–∏–µ:**
–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ PowerShell:

**–®–∞–≥ 1:** –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
```powershell
Move-Item -Path 'C:\xampp\htdocs\visual-editor-standalone\index.html'
          -Destination 'C:\xampp\htdocs\visual-editor-standalone\editor.html'
          -Force
```
‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ

**–®–∞–≥ 2:** –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü
```powershell
Move-Item -Path 'C:\xampp\htdocs\visual-editor-standalone\pages.html'
          -Destination 'C:\xampp\htdocs\visual-editor-standalone\index.html'
          -Force
```
‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `http://localhost/visual-editor-standalone/` ‚Üí –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü ‚úÖ
- `http://localhost/visual-editor-standalone/editor.html` ‚Üí –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ index.html –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –∫–ª–∏–∫–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Üí –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `index.html?id=...`
- –í –∫–æ–Ω—Å–æ–ª–∏: `SyntaxError: Unexpected token '<'`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ (`pages.html` ‚Üí `index.html`, `index.html` ‚Üí `editor.html`), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –æ—Å—Ç–∞–ª–∏—Å—å —Å—Ç–∞—Ä—ã–º–∏:

**index.html —Å–æ–¥–µ—Ä–∂–∞–ª 2 —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–µ–±—è:**
1. `editPage()` —Ñ—É–Ω–∫—Ü–∏—è - –ª–∏–Ω–∫ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. `createNewPage()` —Ñ—É–Ω–∫—Ü–∏—è - –ª–∏–Ω–∫ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω URL –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ: `index.html?id=07fa9180-1ee8-4efb-a11c-858b7493a2bf`
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–Ω—Å–æ–ª—å: –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON (–ø–æ–ª—É—á–µ–Ω HTML –≤–º–µ—Å—Ç–æ JSON)
3. –ù–∞–π–¥–µ–Ω–æ –≤ `index.html:767`: `window.location.href = './index.html?id=${pageId}'`
4. –ù–∞–π–¥–µ–Ω–æ –≤ `index.html:755`: `window.location.href = './index.html?id=${response.pageId}'`

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã 2 —Å—Å—ã–ª–∫–∏ –≤ `index.html`:

**–ú–µ—Å—Ç–æ 1: editPage() —Ñ—É–Ω–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 767):**
```diff
editPage(pageId) {
-   window.location.href = `./index.html?id=${pageId}`;
+   window.location.href = `./editor.html?id=${pageId}`;
},
```

**–ú–µ—Å—Ç–æ 2: createNewPage() —Ñ—É–Ω–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 755):**
```diff
if (response.success && response.pageId) {
    this.showNotification('–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
    setTimeout(() => {
-       window.location.href = `./index.html?id=${response.pageId}`;
+       window.location.href = `./editor.html?id=${response.pageId}`;
    }, 500);
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `editor.html?id=...`
- ‚úÖ –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `editor.html?id=...`
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ SyntaxError

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### –ü—Ä–æ–±–ª–µ–º–∞ #4: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –ë–î

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è slug —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—É—Å—Ç—ã–º –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
- –ü–æ–ª–µ slug –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "home" –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "test-test-test")
- –ë–ª–æ–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª—è

**–ü—Ä–∏—á–∏–Ω–∞:**
Frontend –≤ `loadPageFromAPI()` –æ–∂–∏–¥–∞–ª snake_case –æ—Ç backend, –Ω–æ backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç camelCase:

**Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "page": {
    "title": "...",
    "slug": "test-test-test",
    "seoTitle": "...",        // camelCase
    "seoDescription": "...",  // camelCase
    "seoKeywords": "..."      // camelCase
  },
  "blocks": [
    {
      "type": "...",
      "customName": "...",    // camelCase
      "data": {}
    }
  ]
}
```

**Frontend –æ–∂–∏–¥–∞–ª (–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**
```javascript
this.pageData = {
    seoTitle: page.seo_title || '',      // ‚ùå snake_case
    seoDescription: page.seo_description || '', // ‚ùå snake_case
    seoKeywords: page.seo_keywords || ''  // ‚ùå snake_case
};

this.blocks = page.blocks.map(block => ({
    customName: block.custom_name || ''   // ‚ùå snake_case
}));
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É `{page: {...}, blocks: [...]}`, –Ω–æ frontend –æ–±—Ä–∞—â–∞–ª—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ `page.title` –≤–º–µ—Å—Ç–æ `response.page.title`.

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω `GetPageWithBlocks.php:44-73`:
   - `serializePage()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `seoTitle`, `seoDescription`, `seoKeywords` (camelCase)
   - `serializeBlock()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `customName` (camelCase)
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `PageController.php:34`:
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç UseCase –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `editor.js:1087-1101`:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `page.seo_title` (snake_case) - –û–®–ò–ë–ö–ê!
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `page.blocks` –Ω–∞–ø—Ä—è–º—É—é - –û–®–ò–ë–ö–ê (–Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)!

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω `editor.js:1084-1103`:

```diff
try {
-   const page = await this.apiClient.getPage(pageId);
+   const response = await this.apiClient.getPage(pageId);
+   const page = response.page || response;  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
+   const blocks = response.blocks || [];

    this.pageData = {
        title: page.title || '',
        slug: page.slug || '',
        type: page.type || 'regular',
        status: page.status || 'draft',
-       seoTitle: page.seo_title || '',
-       seoDescription: page.seo_description || '',
-       seoKeywords: page.seo_keywords || ''
+       seoTitle: page.seoTitle || '',        // ‚úÖ camelCase
+       seoDescription: page.seoDescription || '', // ‚úÖ camelCase
+       seoKeywords: page.seoKeywords || ''   // ‚úÖ camelCase
    };

-   this.blocks = (page.blocks || []).map(block => ({
+   this.blocks = blocks.map(block => ({
        type: block.type,
-       customName: block.custom_name || '',
+       customName: block.customName || '',   // ‚úÖ camelCase
        data: block.data || {}
    }));
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Slug –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î
- ‚úÖ SEO –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –ë–ª–æ–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### –ü—Ä–æ–±–ª–µ–º–∞ #5: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ editor.html

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –∫–ª–∏–∫–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –∏–ª–∏ "–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –•–æ—Ç—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ index.html
- –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ localStorage
- –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–∏—á–∏–Ω–∞:**
Race condition –≤ lifecycle —Ö—É–∫–∞—Ö Vue:

1. `created()` –≤—ã–∑—ã–≤–∞–µ—Ç `checkAuth()` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
2. `mounted()` —Å—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `this.currentUser`
3. –ù–æ `checkAuth()` –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è ‚Üí `currentUser` = null
4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î –≤ `mounted()`

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (editor.js:93-100):**
```javascript
async mounted() {
    const urlParams = new URLSearchParams(window.location.search);
    const pageId = urlParams.get('id');

    if (pageId && this.currentUser) {  // ‚ùå currentUser –º–æ–∂–µ—Ç –±—ã—Ç—å null!
        await this.loadPageFromAPI(pageId);
    }
},
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω `created()` - –≤—ã–∑—ã–≤–∞–µ—Ç `checkAuth()` –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ ‚úÖ
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `mounted()` - –Ω–µ –∂–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è `checkAuth()` ‚ùå
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `login()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞ ‚úÖ
4. **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É `created()` –∏ `mounted()`

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ `mounted()`:

```diff
async mounted() {
+   // –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
+   // (checkAuth –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ created, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º)

    const urlParams = new URLSearchParams(window.location.search);
    const pageId = urlParams.get('id');

    if (pageId) {
+       // –ñ–¥–µ–º, –ø–æ–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
+       while (this.showLoginModal) {
+           await new Promise(resolve => setTimeout(resolve, 100));
+       }

        if (this.currentUser) {
            await this.loadPageFromAPI(pageId);
        }
    }
},
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- ‚úÖ –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–≤–∞–ª–∏–¥–µ–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

### –ü—Ä–æ–±–ª–µ–º–∞ #6: Slug –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã slug –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚úÖ
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã slug –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚ùå
- –ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã slug —Ç–æ–∂–µ –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è ‚ùå

**–ü—Ä–∏—á–∏–Ω–∞:**
–£—Å–ª–æ–≤–∏–µ –≤ `onTitleChange()` –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (editor.js:1194-1198):**
```javascript
onTitleChange() {
    if (!this.isEditMode && this.pageData.title) {  // ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!
        this.pageData.slug = this.generateSlug(this.pageData.title);
    }
},
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `this.isEditMode = true` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ù–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ slug –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è
- –£—Å–ª–æ–≤–∏–µ `!this.isEditMode` —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ–µ

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω HTML - —Å–æ–±—ã—Ç–∏–µ `@input="onTitleChange"` –ø—Ä–∏–≤—è–∑–∞–Ω–æ ‚úÖ
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `onTitleChange()` - —É—Å–ª–æ–≤–∏–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚ùå
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `generateSlug()` - —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `autoGenerateSlug` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:

**1. –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ –≤ data() (editor.js:31):**
```diff
pageData: { ... },
+ autoGenerateSlug: true, // –§–ª–∞–≥ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ slug
blocks: [],
```

**2. –ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ onTitleChange() (editor.js:1207-1213):**
```diff
onTitleChange() {
-   if (!this.isEditMode && this.pageData.title) {
+   if (this.pageData.title && this.autoGenerateSlug) {
        this.pageData.slug = this.generateSlug(this.pageData.title);
    }
},
```

**3. –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è slug (editor.js:1215-1218):**
```javascript
onSlugManualEdit() {
    // –ü—Ä–∏ —Ä—É—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ slug –æ—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é
    this.autoGenerateSlug = false;
},
```

**4. –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ @input –¥–ª—è –ø–æ–ª—è slug (editor.html:1210):**
```diff
<input
    v-model="pageData.slug"
+   @input="onSlugManualEdit"
    class="settings-input"
```

**5. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (editor.js:1118):**
```diff
this.currentPageId = pageId;
this.isEditMode = true;
+ this.autoGenerateSlug = false; // –û—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
```

**–õ–æ–≥–∏–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:**

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?**
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é:
1. –£ –≤–∞—Å –µ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–µ–¥–∏—Ü–∏–Ω–∞ –≤ –ë—Ä–∞–∑–∏–ª–∏–∏" —Å `slug: "meditsina-v-brazilii"`
2. –ù–∞ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–µ–¥—É—Ç —Å—Å—ã–ª–∫–∏: `site.com/meditsina-v-brazilii`
3. –í—ã —Ä–µ—à–∞–µ—Ç–µ —É–ª—É—á—à–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ: "–ú–µ–¥–∏—Ü–∏–Ω–∞ –≤ –ë—Ä–∞–∑–∏–ª–∏–∏: –ø–æ–ª–Ω—ã–π –≥–∏–¥ 2025"
4. **–ï–°–õ–ò –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞:** slug –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ `meditsina-v-brazilii-polnyi-gid-2025`
5. **–ü–†–û–ë–õ–ï–ú–ê:** –í—Å–µ —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ `site.com/meditsina-v-brazilii` –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å (404)!

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è **–æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è**
- Slug –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è
- **–ù–û:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è —Ä—É—á–Ω–æ–π —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ö–æ—á–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å URL)

**6. –î–æ–±–∞–≤–ª–µ–Ω UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π (editor.html:1206-1237):**

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
- üîÑ "–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–µ–ª–µ–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- –ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" - –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞

**–ù–æ–≤—ã–π –º–µ—Ç–æ–¥ regenerateSlug() (editor.js:1221-1228):**
```javascript
regenerateSlug() {
    if (this.pageData.title) {
        this.pageData.slug = this.generateSlug(this.pageData.title);
        this.autoGenerateSlug = true; // –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ–±—Ä–∞—Ç–Ω–æ
        this.showNotification('Slug –æ–±–Ω–æ–≤–ª–µ–Ω –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è', 'success');
    }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: slug –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: slug –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü—Ä–∏ —Ä—É—á–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ slug: –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è
- ‚úÖ –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: slug –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è (–∑–∞—â–∏—Ç–∞ –æ—Ç –±–∏—Ç—ã—Ö —Å—Å—ã–ª–æ–∫)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å": –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å slug –≤—Ä—É—á–Ω—É—é –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û + –£–õ–£–ß–®–ï–ù–û

---

## üìÇ –¢–ï–ö–£–©–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### Backend
```
C:\xampp\htdocs\healthcare-cms-backend\
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.php          # Entry point
‚îÇ   ‚îî‚îÄ‚îÄ .htaccess          # Apache rewrite rules
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ Application/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UseCase/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ CreatePage.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UpdatePage.php
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GetPageWithBlocks.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ PublishPage.php
‚îÇ   ‚îú‚îÄ‚îÄ Domain/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Entity/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Page.php
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Block.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Repository/
‚îÇ   ‚îú‚îÄ‚îÄ Infrastructure/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Repository/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MySQLPageRepository.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MySQLBlockRepository.php
‚îÇ   ‚îî‚îÄ‚îÄ Presentation/
‚îÇ       ‚îî‚îÄ‚îÄ Controller/
‚îÇ           ‚îú‚îÄ‚îÄ AuthController.php
‚îÇ           ‚îî‚îÄ‚îÄ PageController.php
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.php
‚îî‚îÄ‚îÄ vendor/
```

### Frontend
```
C:\xampp\htdocs\visual-editor-standalone\
‚îú‚îÄ‚îÄ index.html           # –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü (–≥–ª–∞–≤–Ω–∞—è) ‚Üê –ù–û–í–û–ï
‚îú‚îÄ‚îÄ editor.html          # –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä ‚Üê –ü–ï–†–ï–ò–ú–ï–ù–û–í–ê–ù–û
‚îú‚îÄ‚îÄ api-client.js        # API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ editor.js            # –õ–æ–≥–∏–∫–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ blocks.js            # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –±–ª–æ–∫–æ–≤
‚îú‚îÄ‚îÄ templates.js         # –®–∞–±–ª–æ–Ω—ã HTML
‚îî‚îÄ‚îÄ styles.css           # –°—Ç–∏–ª–∏
```

---

## üß™ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –¢–ï–°–¢–û–í

### API Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|-------|--------|-----------|
| `/api/health` | GET | ‚úÖ | 200 OK |
| `/api/auth/login` | POST | ‚úÖ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç token + user |
| `/api/auth/me` | GET | ‚úÖ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º —Ç–æ–∫–µ–Ω–µ (–æ–∂–∏–¥–∞–µ–º–æ) |
| `/api/pages` | GET | ‚ö†Ô∏è | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| `/api/pages` | POST | üîß | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `/api/pages/:id` | GET | ‚ö†Ô∏è | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |
| `/api/pages/:id` | PUT | üîß | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `/api/pages/:id/publish` | PUT | ‚ö†Ô∏è | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |

### Frontend

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü (index.html) | ‚úÖ | –¢–µ–ø–µ—Ä—å –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ |
| –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (editor.html) | üîß | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç (anna:test123) |
| –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã | üîß | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã | üîß | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| –ü—É–±–ª–∏–∫–∞—Ü–∏—è | ‚ö†Ô∏è | –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å |

---

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï)

### 1. –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä—ã—Ç—å `http://localhost/visual-editor-standalone/` (—Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü)
2. –í–æ–π—Ç–∏ (anna:test123)
3. –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"
   - Slug: `testovaija-stranitsa`
   - –¢–∏–ø: "–û–±—ã—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"
5. –î–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ (–ª—é–±–æ–π)
6. –ù–∞–∂–∞—Ç—å "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Notification: "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞"
- ‚úÖ URL –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ `?id=uuid`
- ‚úÖ –í –ë–î –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø–∏—Å—å:
  ```sql
  SELECT * FROM pages WHERE slug = 'testovaija-stranitsa';
  SELECT * FROM blocks WHERE page_id = 'uuid';
  ```

### 2. –¢–µ—Å—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–∑ —Å–ø–∏—Å–∫–∞ (–∫–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ)
2. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
3. –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –±–ª–æ–∫–∏
4. –ù–∞–∂–∞—Ç—å "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Notification: "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
- ‚úÖ –í –ë–î –æ–±–Ω–æ–≤–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ

### 3. –¢–µ—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
1. –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –ù–∞–∂–∞—Ç—å "üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Notification: "‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞"
- ‚úÖ –°—Ç–∞—Ç—É—Å –≤ –ë–î: `status = 'published'`
- ‚úÖ –í —Å–ø–∏—Å–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è

---

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –†–ò–°–ö–ò

### 1. –ë–ª–æ–∫–∏ –º–æ–≥—É—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è
**–°–∏–º–ø—Ç–æ–º:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –±–ª–æ–∫–∏ –ø—É—Å—Ç—ã–µ
**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ, backend –Ω–µ –ø–∞—Ä—Å–∏—Ç –º–∞—Å—Å–∏–≤ –±–ª–æ–∫–æ–≤
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–º–æ—Ç—Ä–µ—Ç—å –ë–î –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

### 2. GET /api/pages –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –æ—à–∏–±–∫—É
**–°–∏–º–ø—Ç–æ–º:** –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—É—Å—Ç–æ–π –∏–ª–∏ –æ—à–∏–±–∫–∞
**–ü—Ä–∏—á–∏–Ω–∞:** Backend –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å enum –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å–ª–µ—Ç–µ—Ç—å
**–°–∏–º–ø—Ç–æ–º:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–±—É–µ—Ç –ª–æ–≥–∏–Ω —Å–Ω–æ–≤–∞
**–ü—Ä–∏—á–∏–Ω–∞:** Token –º–æ–∂–µ—Ç –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ localStorage
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 5
- `C:\xampp\htdocs\healthcare-cms-backend\public\index.php` (2 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- `C:\xampp\htdocs\visual-editor-standalone\api-client.js` (1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- `C:\xampp\htdocs\visual-editor-standalone\editor.js` (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∫–∏)
- `C:\xampp\htdocs\visual-editor-standalone\editor.html` (2 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- `C:\xampp\htdocs\visual-editor-standalone\index.html` (2 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**–§–∞–π–ª–æ–≤ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ:** 2
- `index.html` ‚Üí `editor.html`
- `pages.html` ‚Üí `index.html`

**–ü—Ä–æ–±–ª–µ–º –Ω–∞–π–¥–µ–Ω–æ:** 8
**–ü—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 8
**–ü—Ä–æ–±–ª–µ–º –æ—Å—Ç–∞–ª–æ—Å—å:** 0
**–¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –í–°–Å

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º, –∫–æ–≥–¥–∞:

- [x] Backend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL
- [x] Health endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK
- [x] Login —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ú–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ú–æ–∂–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ë–ª–æ–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 3/9 (33%)

---

## üìù –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ë–´–°–¢–†–û–ô –ü–†–û–í–ï–†–ö–ò

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
```bash
curl http://localhost/healthcare-cms-backend/public/api/health
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞
```bash
curl -X POST http://localhost/healthcare-cms-backend/public/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"anna","password":"test123"}'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
```bash
curl http://localhost/healthcare-cms-backend/public/api/pages \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ë–î
```bash
mysql -uroot healthcare_cms -e "SELECT id, title, slug, status FROM pages ORDER BY created_at DESC LIMIT 1;"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```bash
mysql -uroot healthcare_cms -e "SELECT COUNT(*) as blocks_count FROM blocks WHERE page_id = 'YOUR_PAGE_ID';"
```

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #7: PHP Fatal Error - –º–µ—Ç–æ–¥ getCurrentUser() –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–î–∞—Ç–∞:** 2025-10-04 22:02
**–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ:**
1. HTTP 400 Bad Request –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
2. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
3. PHP Fatal Error –≤ –ª–æ–≥–∞—Ö Apache:
```
PHP Fatal error: Call to undefined method Presentation\Controller\AuthController::getCurrentUser()
in C:\xampp\htdocs\healthcare-cms-backend\public\index.php on line 45
```

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–∑–∞–ø—Ä–æ—Å–∞ —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏ backend:
  - –ü—Ä–æ—á–∏—Ç–∞–Ω `editor.js` (—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ `savePage()`): —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ camelCase –∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –í—ã–ø–æ–ª–Ω–µ–Ω `curl` GET `http://localhost/healthcare-cms-backend/public/api/pages` ‚Äî –¥–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
  - –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å `PagesController.php` –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `PageController.php` (–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω, –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–Ω–∞)
  - –ü—Ä–æ—á–∏—Ç–∞–Ω `UpdatePage.php` ‚Äî –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Apache (`C:\xampp\apache\logs\error.log`)
  - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ: –≤—Å–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –≤—ã–∑–æ–≤–æ–º –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –º–µ—Ç–æ–¥–∞
  - Referer: `/visual-editor-standalone/editor.html`, `/visual-editor-standalone/index.html`

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤:
  - `AuthController.php:81-115` - –º–µ—Ç–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `me()`, –∞ –ù–ï `getCurrentUser()`
  - `index.php:45` - —Ä–æ—É—Ç–∏–Ω–≥ –¥–ª—è `/api/auth/me` –≤—ã–∑—ã–≤–∞–µ—Ç `$controller->getCurrentUser()`

**–ü—Ä–∏—á–∏–Ω–∞:**
–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏–º–µ–Ω–∏ –º–µ—Ç–æ–¥–∞ –≤ —Ä–æ—É—Ç–∏–Ω–≥–µ (`index.php:45`) –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ (`AuthController.php:81`).

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `index.php:45`:
```php
// –ë–´–õ–û:
$controller->getCurrentUser();

// –°–¢–ê–õ–û:
$controller->me();
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. ‚úÖ Endpoint `/api/auth/me` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ
3. ‚úÖ –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü `currentUser.id` –¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí `createdBy` –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ HTTP 400 –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏—Å—á–µ–∑–ª–∏

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
curl -s "http://localhost/healthcare-cms-backend/public/api/auth/me" \
     -H "Authorization: Bearer test-token-123"

# –û—Ç–≤–µ—Ç: {"error":"Invalid or expired token"}
# (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è JSON-–æ—à–∏–±–∫–∞, –∞ –Ω–µ PHP Fatal Error)
```

---

## üìú –ü–û–õ–ù–ê–Ø –•–†–û–ù–û–õ–û–ì–ò–Ø –î–ï–ô–°–¢–í–ò–ô

### –ö–æ–º–∞–Ω–¥–∞ 1: –ù–∞—á–∞–ª–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```
> –ü–æ—Å–º–æ—Ç—Ä–∏ –ø–ª–∞–Ω: BACKEND_DEPLOYMENT_PLAN.md –ò –Ω–∞—á–∏–Ω–∞–π –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å
```

**–î–µ–π—Å—Ç–≤–∏—è:**
1. ‚ùå –ü–æ–ø—ã—Ç–∫–∞ –ø—Ä–æ—á–∏—Ç–∞—Ç—å `BACKEND_DEPLOYMENT_PLAN.md` –∏–∑ –∫–æ—Ä–Ω—è - –û–®–ò–ë–ö–ê (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)
2. ‚úÖ –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–∞: –Ω–∞–π–¥–µ–Ω –≤ `Documents/BACKEND_DEPLOYMENT_PLAN.md`
3. ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω –ø–ª–∞–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (616 —Å—Ç—Ä–æ–∫)
4. ‚úÖ –°–æ–∑–¥–∞–Ω TODO list —Å 8 –∑–∞–¥–∞—á–∞–º–∏

### –ö–æ–º–∞–Ω–¥–∞ 2-5: –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ backend
```bash
dir backend  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ü–æ–∏—Å–∫ .env —Ñ–∞–π–ª–∞:**
- ‚ùå –§–∞–π–ª `.env` –Ω–µ –Ω–∞–π–¥–µ–Ω
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `config/database.php` (fallback –∑–Ω–∞—á–µ–Ω–∏—è)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ index.php:**
- ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω entry point
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ CORS headers –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

### –ö–æ–º–∞–Ω–¥–∞ 6-8: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ backend (3 –ø–æ–ø—ã—Ç–∫–∏)

**–ü–æ–ø—ã—Ç–∫–∞ 1: xcopy**
```bash
xcopy "C:\Users\annal\...\backend" "C:\xampp\htdocs\healthcare-cms-backend\" /E /I /Y
```
‚ùå **–û–®–ò–ë–ö–ê:** `unexpected EOF while looking for matching '"'`
**–ü—Ä–∏—á–∏–Ω–∞:** Bash –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–ª –∫–∞–≤—ã—á–∫–∏ –≤ –ø—É—Ç–∏ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏

**–ü–æ–ø—ã—Ç–∫–∞ 2: robocopy**
```bash
robocopy "...\backend" "...\healthcare-cms-backend" /E /NFL /NDL /NJH /NJS
```
‚ùå **–û–®–ò–ë–ö–ê:** `Invalid Parameter #3 : "E:/"`
**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞—Ä–∞–º–µ—Ç—Ä `/E` –±—ã–ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –ø—É—Ç—å

**–ü–æ–ø—ã—Ç–∫–∞ 3: PowerShell Copy-Item**
```powershell
Copy-Item -Path '...\backend' -Destination '...\healthcare-cms-backend' -Recurse -Force
```
‚úÖ **–£–°–ü–ï–•** - —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã

### –ö–æ–º–∞–Ω–¥–∞ 9-10: –ü—Ä–æ–≤–µ—Ä–∫–∞ Apache

**–ü—Ä–æ–≤–µ—Ä–∫–∞ mod_rewrite:**
```bash
findstr /C:"LoadModule rewrite_module" httpd.conf
```
‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç: `LoadModule rewrite_module modules/mod_rewrite.so`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ AllowOverride:**
```bash
findstr /C:"AllowOverride" httpd.conf
```
‚ùå –û–®–ò–ë–ö–ê (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - —Ñ–∞–π–ª –±–æ–ª—å—à–æ–π)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ .htaccess:**
‚úÖ –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ö–æ–º–∞–Ω–¥–∞ 11: –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç API
```bash
curl http://localhost/healthcare-cms-backend/public/api/health
```
‚ùå **–û–®–ò–ë–ö–ê:** `{"error":"Endpoint not found"}`

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ—á–∏—Ç–∞–Ω `index.php:26-30`
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ: URI path –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è:
  - `/healthcare-backend/public`
  - `/backend/public`
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–ª—è: `/healthcare-cms-backend/public`

### –ö–æ–º–∞–Ω–¥–∞ 12: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
**–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –≤ index.php:28:**
```php
$uri = str_replace('/healthcare-cms-backend/public', '', $uri);
```

### –ö–æ–º–∞–Ω–¥–∞ 13: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π —Ç–µ—Å—Ç API
```bash
curl http://localhost/healthcare-cms-backend/public/api/health
```
‚úÖ **–£–°–ü–ï–•:**
```json
{
  "status": "ok",
  "service": "Expats Health Brazil CMS API",
  "version": "1.0.0"
}
```

### –ö–æ–º–∞–Ω–¥–∞ 14: –¢–µ—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```bash
curl -X POST http://localhost/healthcare-cms-backend/public/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"anna","password":"test123"}'
```
‚úÖ **–£–°–ü–ï–•:** –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ö–æ–º–∞–Ω–¥–∞ 15-20: –ü–æ–∏—Å–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Visual Editor

**–ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞:**
1. –ù–∞–π–¥–µ–Ω—ã 2 —Ñ–∞–π–ª–∞ –≤ `healthcare-cms/public/admin/`
2. –ù–∞–π–¥–µ–Ω–∞ –ø–∞–ø–∫–∞ `visual-editor-standalone/`
3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `index.html`, `pages.html`, `api-client.js`, `editor.js`

**–ü–æ–∏—Å–∫ API_BASE_URL:**
- –ü—Ä–æ–≤–µ—Ä–µ–Ω `index.html` - –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–µ–Ω `api-client.js` - –Ω–∞–π–¥–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ 7-8

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API_BASE_URL:**
```diff
- const API_BASE_URL = 'http://localhost/healthcare-cms/backend/public'
+ const API_BASE_URL = 'http://localhost/healthcare-cms-backend/public'
```

### –ö–æ–º–∞–Ω–¥–∞ 21: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**–û—Ç–∫—Ä—ã—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä:** `http://localhost/visual-editor-standalone/`

**–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå HTTP 400 Bad Request –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
2. ‚ùå –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - —Ä–µ–¥–∞–∫—Ç–æ—Ä (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü)

### –ö–æ–º–∞–Ω–¥–∞ 22-26: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ HTTP 400

**–ü—Ä–æ–≤–µ—Ä–∫–∞ frontend:**
1. –ù–∞–π–¥–µ–Ω `editor.js:savePage()` –º–µ—Ç–æ–¥
2. –ü—Ä–æ—á–∏—Ç–∞–Ω `api-client.js:createPage()` - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ backend:**
1. –ü—Ä–æ—á–∏—Ç–∞–Ω `PageController.php:create()` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
2. –ü—Ä–æ—á–∏—Ç–∞–Ω `CreatePage.php` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è!
3. **–ù–ê–ô–î–ï–ù–ê –û–®–ò–ë–ö–ê:** –¢—Ä–µ–±—É–µ—Ç `createdBy` (camelCase), –∞ frontend –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `created_by`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ editor.js:1124-1139:**
‚ùå –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
- `seo_title` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `seoTitle`
- `seo_description` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `seoDescription`
- `seo_keywords` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `seoKeywords`
- `created_by` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `createdBy`
- `custom_name` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `customName`

### –ö–æ–º–∞–Ω–¥–∞ 27: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
**–û–±–Ω–æ–≤–ª–µ–Ω editor.js:1124-1139** - –≤—Å–µ –ø–æ–ª—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ camelCase

### –ö–æ–º–∞–Ω–¥–∞ 28-31: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞ pages.html:**
‚úÖ –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**
1. `index.html` ‚Üí `editor.html` (—á–µ—Ä–µ–∑ PowerShell Move-Item)
2. `pages.html` ‚Üí `index.html` (—á–µ—Ä–µ–∑ PowerShell Move-Item)

### –ö–æ–º–∞–Ω–¥–∞ 32: –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** `Documents/BACKEND_DEBUG_LOG.md`

### –ö–æ–º–∞–Ω–¥–∞ 33: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)

**–û—Ç–∫—Ä—ã—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä:** `http://localhost/visual-editor-standalone/`

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ #3:**
‚ùå –ü—Ä–∏ –∫–ª–∏–∫–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `test-test-test` ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `index.html?id=...` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. URL –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ: `localhost/visual-editor-standalone/index.html?id=07fa9180-1ee8-4efb-a11c-858b7493a2bf`
2. –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `SyntaxError: Unexpected token '<', "<br />... is not valid JSON`
3. **–ü—Ä–∏—á–∏–Ω–∞:** `index.html` - —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü, –∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä!

### –ö–æ–º–∞–Ω–¥–∞ 34: –ü–æ–∏—Å–∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫

**–ü—Ä–æ–≤–µ—Ä–∫–∞ editPage():**
```bash
grep "editPage\|–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" index.html
```
**–ù–∞–π–¥–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ 767:**
```javascript
window.location.href = `./index.html?id=${pageId}`;  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ createNewPage():**
**–ù–∞–π–¥–µ–Ω–æ –≤ —Å—Ç—Ä–æ–∫–µ 755:**
```javascript
window.location.href = `./index.html?id=${response.pageId}`;  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
```

### –ö–æ–º–∞–Ω–¥–∞ 35-36: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: editPage() (—Å—Ç—Ä–æ–∫–∞ 767)**
```diff
- window.location.href = `./index.html?id=${pageId}`;
+ window.location.href = `./editor.html?id=${pageId}`;
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: createNewPage() (—Å—Ç—Ä–æ–∫–∞ 755)**
```diff
- window.location.href = `./index.html?id=${response.pageId}`;
+ window.location.href = `./editor.html?id=${response.pageId}`;
```

### –ö–æ–º–∞–Ω–¥–∞ 37: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–û—Ç–∫—Ä—ã—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `http://localhost/visual-editor-standalone/editor.html?id=07fa9180-1ee8-4efb-a11c-858b7493a2bf`

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ #4:**
‚ùå Slug –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "home" –≤–º–µ—Å—Ç–æ "test-test-test"
‚ùå –ë–ª–æ–∫–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
‚ùå –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –∑–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ slug

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω `GetPageWithBlocks.php` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç camelCase (`seoTitle`, `customName`)
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `editor.js:1087-1101` - –æ–∂–∏–¥–∞–µ—Ç snake_case (`seo_title`, `custom_name`)
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ - backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{page: {...}, blocks: [...]}`
4. Frontend –æ–±—Ä–∞—â–∞–ª—Å—è –∫ `page.title` –Ω–∞–ø—Ä—è–º—É—é –≤–º–µ—Å—Ç–æ `response.page.title`

### –ö–æ–º–∞–Ω–¥–∞ 38: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ loadPageFromAPI

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ editor.js:1084-1103:**
```diff
try {
-   const page = await this.apiClient.getPage(pageId);
+   const response = await this.apiClient.getPage(pageId);
+   const page = response.page || response;
+   const blocks = response.blocks || [];

    this.pageData = {
-       seoTitle: page.seo_title || '',
-       seoDescription: page.seo_description || '',
-       seoKeywords: page.seo_keywords || ''
+       seoTitle: page.seoTitle || '',
+       seoDescription: page.seoDescription || '',
+       seoKeywords: page.seoKeywords || ''
    };

-   this.blocks = (page.blocks || []).map(block => ({
+   this.blocks = blocks.map(block => ({
-       customName: block.custom_name || '',
+       customName: block.customName || '',
    }));
}
```

### –ö–æ–º–∞–Ω–¥–∞ 39: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ü—Ä–æ–±–ª–µ–º–∞ #5 - Race condition –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:**
> –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ' –∏–ª–∏ '–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É' –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–µ–Ω —Ç–æ–∫–µ–Ω –≤ localStorage - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚úÖ
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω `created()` - –≤—ã–∑—ã–≤–∞–µ—Ç `checkAuth()` –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `mounted()` - —Å—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `currentUser` (race condition!)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω polling loop –≤ `mounted()` –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ö–æ–º–∞–Ω–¥–∞ 40: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ü—Ä–æ–±–ª–µ–º–∞ #6 - Slug –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:**
> slug —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –û—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º slug –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `autoGenerateSlug` –∏ –ª–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

### –ö–æ–º–∞–Ω–¥–∞ 41: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–∏–ª –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

**–í–æ–ø—Ä–æ—Å:**
> –û–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É —Ç–∞–∫? –ï—Å—Ç—å –ª–∏ –≤ —ç—Ç–æ–º –ª–æ–≥–∏–∫–∞: "–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Üí —Ñ–ª–∞–≥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è false"

**–û—Ç–≤–µ—Ç:** –û–±—ä—è—Å–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞—â–∏—Ç—ã SEO –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ (—Å–º. Problem #6)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–æ–±–∞–≤–ª–µ–Ω—ã UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∏ –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å"

### –ö–æ–º–∞–Ω–¥–∞ 42: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ü—Ä–æ–±–ª–µ–º–∞ #8 - –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏–ª:**
> –î–∞–≤–∞–π —É–±–µ—Ä—ë–º —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: üîÑ –û–±–Ω–æ–≤–∏—Ç—å

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ `&& pageData.status !== 'published'`

### –ö–æ–º–∞–Ω–¥–∞ 43: –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ü—Ä–æ–±–ª–µ–º–∞ #7

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª:**
> –û—Ç–ª–∞–¥–∫–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ [—Å–∫—Ä–∏–Ω—à–æ—Ç —Å HTTP 400]
> –ò –æ–ø—è—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è.

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. –°—Ä–∞–≤–Ω–µ–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ backend: –ø—Ä–æ—á–∏—Ç–∞–Ω `editor.js` (—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞), –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã `PageController.php` –∏ `UpdatePage.php`, –≤—ã–ø–æ–ª–Ω–µ–Ω `curl` GET `/api/pages` ‚Äî —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º
2. –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏ Apache - –Ω–∞–π–¥–µ–Ω–æ: `PHP Fatal error: Call to undefined method getCurrentUser()`
3. –ü—Ä–æ–≤–µ—Ä–µ–Ω `AuthController.php` (–º–µ—Ç–æ–¥ `me()`) –∏ `index.php:45`, –≥–¥–µ –≤—ã–∑—ã–≤–∞–ª—Å—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `getCurrentUser()`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** `index.php:45` - –∏–∑–º–µ–Ω–µ–Ω–æ `getCurrentUser()` ‚Üí `me()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ HTTP 400 –∏—Å—á–µ–∑–ª–∏
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Endpoint `/api/auth/me` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤–º–µ—Å—Ç–æ PHP Fatal Error

### –ö–æ–º–∞–Ω–¥–∞ 44: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—Ä–æ—Å–∏–ª:**
> –û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª "Documents/trableshooting/BACKEND_DEBUG_LOG.md"
> –ó–∞–ø–∏—à–∏ –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –æ—Ç–ª–∞–¥–∫–∏.

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ Problem #7 (PHP Fatal Error)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ Problem #8 (–∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (8 –ø—Ä–æ–±–ª–µ–º)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—è –∫–æ–º–∞–Ω–¥ (44 –∫–æ–º–∞–Ω–¥—ã)
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üîç –ò–ó–í–õ–ï–ß–ï–ù–ù–´–ï –£–†–û–ö–ò

### 1. –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ Windows –≤ Git Bash
- `xcopy` –∏ `robocopy` –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Git Bash
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PowerShell –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 2. –í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ URI –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- Backend –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞–ø–∫–∞—Ö (`/backend/`, `/healthcare-cms-backend/`)
- **–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—É—Ç–µ–π –≤ index.php

### 3. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ naming conventions
- Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PHP camelCase
- Frontend –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å snake_case (JavaScript convention)
- **–†–µ—à–µ–Ω–∏–µ:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ CMS
- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ CMS = —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π (pages list)
- –†–µ–¥–∞–∫—Ç–æ—Ä = –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (editor.html)
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è

### 5. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏
- –ü—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏
- –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º: `window.location.href`, —Å—Ç–∞—Ä–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Å—Ç–∞—Ä–æ–≥–æ –∏–º–µ–Ω–∏

---

## üéì –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ù–ê –ë–£–î–£–©–ï–ï

### 1. –°–æ–∑–¥–∞—Ç—å API Contract Documentation
–î–æ–∫—É–º–µ–Ω—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö endpoints –∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
```
POST /api/pages
Body: {
  title: string (camelCase)
  slug: string (camelCase)
  createdBy: string (camelCase) // –ù–ï created_by!
  ...
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å TypeScript –∏–ª–∏ JSDoc
–î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤:
```javascript
/**
 * @typedef {Object} PageData
 * @property {string} title
 * @property {string} slug
 * @property {string} createdBy  // –Ø–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ camelCase
 */
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ESLint –ø—Ä–∞–≤–∏–ª–æ
–î–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è camelCase:
```json
{
  "camelcase": ["error", {"properties": "always"}]
}
```

### 4. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
–¢–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å frontend/backend:
```javascript
test('createPage sends correct format', async () => {
  const data = { createdBy: '123', seoTitle: 'Test' };
  const response = await api.createPage(data);
  expect(response.success).toBe(true);
});
```

---

### 5. –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Å—Å—ã–ª–∫–∞—Ö:
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ä–æ–µ –∏–º—è —Ñ–∞–π–ª–∞
grep -r "index\.html\?id=" visual-editor-standalone/
# –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å editor.html
```

---

---

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê #8: –ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

**–î–∞—Ç–∞:** 2025-10-04 20:30
**–ü—Ä–æ—è–≤–ª–µ–Ω–∏–µ:**
- –ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" (regenerateSlug) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞–∂–µ –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- –≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–∏—Å–∫ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è URL –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–∏—Ç—ã–º —Å—Å—ã–ª–∫–∞–º –∏ –ø–æ—Ç–µ—Ä–µ SEO

**–ü—Ä–∏—á–∏–Ω–∞:**
–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π slug (Problem #6), –∫–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –≥–¥–µ `autoGenerateSlug = false`, –≤–∫–ª—é—á–∞—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ.

**–ö–æ–¥ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (editor.html:1223):**
```html
<button
    v-if="!autoGenerateSlug && pageData.title"
    @click="regenerateSlug"
    ...
>
    üîÑ –û–±–Ω–æ–≤–∏—Ç—å
</button>
```

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ `&& pageData.status !== 'published'` –≤ –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–∫–∏:

```diff
<button
-   v-if="!autoGenerateSlug && pageData.title"
+   v-if="!autoGenerateSlug && pageData.title && pageData.status !== 'published'"
    @click="regenerateSlug"
    class="toolbar-btn save"
    type="button"
    title="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å slug –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è"
    style="padding: 0.5rem 1rem; white-space: nowrap;"
>
    üîÑ –û–±–Ω–æ–≤–∏—Ç—å
</button>
```

**–õ–æ–≥–∏–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
–ö–Ω–æ–ø–∫–∞ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞:
1. ‚úÖ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ (`!autoGenerateSlug`)
2. ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ (`pageData.title`)
3. ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ù–ï –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ (`pageData.status !== 'published'`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–ª—è –¥—Ä–∞—Ñ—Ç–æ–≤: –∫–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–æ –º–µ–Ω—è—Ç—å URL)
- ‚úÖ –î–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö: –∫–Ω–æ–ø–∫–∞ —Å–∫—Ä—ã—Ç–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è URL)
- ‚úÖ SEO –∏ –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-04 22:05:00
