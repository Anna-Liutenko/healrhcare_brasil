# –ü—Ä–æ–±–ª–µ–º–∞ —Å –º–µ–¥–∏–∞—Ç–µ–∫–æ–π: –∏—Å—á–µ–∑–∞—é—â–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞—Ä—Ç–∏–Ω–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–∞–π—Ç–∞, –≤ –º–µ–¥–∏–∞—Ç–µ–∫–µ –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è  
**–°—Ç–∞—Ç—É—Å:** üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞, ‚è≥ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

---

## 1. –°–∏–º–ø—Ç–æ–º—ã –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è:

1. **–í –º–µ–¥–∏–∞—Ç–µ–∫–µ (frontend):**
   - –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ (anna_avatar.jpg, photo_2025-08-06_15-08-00.png)
   - –ù–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è (broken image icon)
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É ‚Üí 404 Not Found

2. **–ù–∞ –ø—É–±–ª–∏—á–Ω–æ–º —Å–∞–π—Ç–µ:**
   - –ë–ª–æ–∫ "about-section" —Å —Ñ–æ—Ç–æ ‚Üí –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - –í HTML –µ—Å—Ç—å `<img src="/uploads/987f1c3c-7d2e-43b6-b7c7-bebb5807ba65.png">`
   - –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª ‚Üí 404

3. **–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏—è—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   - –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ `sync.bat` –ø—Ä–æ–ø–∞–¥–∞—é—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   - –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–≤–Ω–æ) —Ç–æ–∂–µ –∏—Å—á–µ–∑–∞—é—Ç

---

## 2. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: —á—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

**–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (dev):**
```powershell
Get-ChildItem "backend/public/uploads"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 3 —Ñ–∞–π–ª–∞
# - 1c134f11-9bfc-4186-91c0-819b89bc2b31.jpg (4 –æ–∫—Ç—è–±—Ä—è)
# - 32c79ed4-2ab1-4edc-b260-5d7cecb82230.png (5 –æ–∫—Ç—è–±—Ä—è)
# - e3dfe46c-b12c-48ce-98f1-6276b266bd47.jpg (4 –æ–∫—Ç—è–±—Ä—è)
```

**XAMPP (production):**
```powershell
Get-ChildItem "C:\xampp\htdocs\healthcare-cms-backend\public\uploads"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 4 —Ñ–∞–π–ª–∞
# - 1c134f11-9bfc-4186-91c0-819b89bc2b31.jpg
# - 32c79ed4-2ab1-4edc-b260-5d7cecb82230.png
# - da1bd342-60a2-4550-bed0-9db1ca2dfeea.jpg (14 –æ–∫—Ç—è–±—Ä—è)
# - e3dfe46c-b12c-48ce-98f1-6276b266bd47.jpg
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
SELECT id, filename, url FROM media ORDER BY uploaded_at DESC;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç: 9 –∑–∞–ø–∏—Å–µ–π –≤ –ë–î, –Ω–æ —Ç–æ–ª—å–∫–æ 4 —Ñ–∞–π–ª–∞ –Ω–∞ –¥–∏—Å–∫–µ!**

| ID | Filename | URL | –°—Ç–∞—Ç—É—Å |
|----|----------|-----|--------|
| df215638... | anna_avatar.jpg | /uploads/da1bd342-60a2-4550-bed0-9db1ca2dfeea.jpg | ‚úÖ EXISTS |
| ef0c47be... | anna_avatar.jpg | /uploads/b6e5827e-1b8e-419d-b5cf-ec86b36bd6cc.jpg | ‚ùå MISSING |
| 1c6c0349... | photo_2025-08-06_15-08-00.png | /uploads/987f1c3c-7d2e-43b6-b7c7-bebb5807ba65.png | ‚ùå MISSING |
| c2766fe0... | photo_2025-08-06_15-08-00.png | /uploads/11f3da5e-d488-4f42-b96d-c592e508c2a3.png | ‚ùå MISSING |
| 62f9f6c1... | 20171202_145049.jpg | /uploads/dfb322b1-254f-47e4-be14-f35283572a66.jpg | ‚ùå MISSING |
| 0ce5ffa3... | BBuddy_optimized.png | /uploads/c5fd55ae-3c4a-459c-ac99-80ad4e3f9268.png | ‚ùå MISSING |
| ... | ... | ... | ... |

---

## 3. –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ (Root Cause)

### –ü—Ä–æ–±–ª–µ–º–∞ 1: sync.bat —É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã (–ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê)

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ sync.bat:**
```bat
robocopy "backend" "C:\xampp\htdocs\healthcare-cms-backend" /MIR /R:1 /W:1 ...
```

**–§–ª–∞–≥ `/MIR` (Mirror)** –¥–µ–ª–∞–µ—Ç **–∑–µ—Ä–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**:
- –ö–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ source ‚Üí destination
- **–£–î–ê–õ–Ø–ï–¢ —Ñ–∞–π–ª—ã –∏–∑ destination, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ source**

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ –º–µ–¥–∏–∞—Ç–µ–∫—É –≤ XAMPP –æ–∫—Ä—É–∂–µ–Ω–∏–∏ ‚Üí —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `C:\xampp\htdocs\healthcare-cms-backend\public\uploads/`
2. –ó–∞–ø–∏—Å—å –æ —Ñ–∞–π–ª–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î MySQL
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `sync.bat`
4. **robocopy –≤–∏–¥–∏—Ç:** –≤ source (`backend/public/uploads/`) –≤—Å–µ–≥–æ 3 —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–∞
5. **robocopy —É–¥–∞–ª—è–µ—Ç** –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ XAMPP (–≤–∫–ª—é—á–∞—è —Å–≤–µ–∂–µ–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ!)
6. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö **–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è** ‚Äî –∑–∞–ø–∏—Å–∏ –æ—Å—Ç–∞—é—Ç—Å—è
7. –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤ –ë–î –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ `/uploads/987f1c3c...png`, –Ω–æ —Ñ–∞–π–ª–∞ –Ω–µ—Ç ‚Üí 404

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –î–≤–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –æ–¥–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   –î–í–ê –û–ö–†–£–ñ–ï–ù–ò–Ø                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

DEV (–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
‚îú‚îÄ‚îÄ backend/public/uploads/ ‚Üê –°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (3 —à—Ç)
‚îî‚îÄ‚îÄ –ë–î MySQL: –Ω–µ—Ç (–∏–ª–∏ SQLite –¥–ª—è —Ç–µ—Å—Ç–æ–≤)

XAMPP (Runtime/Production-like)
‚îú‚îÄ‚îÄ C:\xampp\htdocs\healthcare-cms-backend\public\uploads/ ‚Üê –ó–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ –ë–î MySQL: healthcare_cms ‚Üê –ï–î–ò–ù–ê–Ø –±–∞–∑–∞ –¥–ª—è –æ–±–æ–∏—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ Apache —Å–µ—Ä–≤–µ—Ä ‚Üí –æ—Ç–¥–∞—ë—Ç –ø—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç

‚ùå –ü–†–û–ë–õ–ï–ú–ê:
- –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ XAMPP/uploads/
- sync.bat –∑–µ—Ä–∫–∞–ª–∏—Ä—É–µ—Ç backend/ ‚Üí XAMPP (–∑–∞—Ç–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã)
- –ë–î –æ–¥–Ω–∞ –¥–ª—è –≤—Å–µ—Ö ‚Üí –æ—Å—Ç–∞—é—Ç—Å—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ uploads –æ–±—Ä–∞—Ç–Ω–æ –≤ dev

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
DEV ‚Üê‚Üí XAMPP (–¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è uploads)
```

**–ß—Ç–æ –µ—Å—Ç—å:**
```
DEV ‚Üí XAMPP (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è, —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤ –≤ XAMPP)
```

–§–∞–π–ª—ã, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –≤ XAMPP, **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ** –≤ dev –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

---

## 4. –†–µ—à–µ–Ω–∏—è (–Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–∫–ª—é—á–∏—Ç—å uploads –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ò–¥–µ—è:** –ù–µ —Ç—Ä–æ–≥–∞—Ç—å –ø–∞–ø–∫—É `uploads/` –ø—Ä–∏ sync ‚Äî –æ–Ω–∞ –∂–∏–≤—ë—Ç —Ç–æ–ª—å–∫–æ –≤ XAMPP.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ sync.bat:**
```bat
robocopy "backend" "C:\xampp\htdocs\healthcare-cms-backend" ^
    /MIR ^
    /XD "public\uploads" ^
    /R:1 /W:1 /NP /NFL /NDL /NJH /NJS
```

**–§–ª–∞–≥ `/XD "public\uploads"`** ‚Äî –∏—Å–∫–ª—é—á–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**–ü–ª—é—Å—ã:**
- ‚úÖ –§–∞–π–ª—ã –≤ XAMPP –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –í dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏ uploads –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (–Ω–æ —ç—Ç–æ –û–ö ‚Äî dev –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥–∞, –Ω–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤)

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è uploads

**–ò–¥–µ—è:** –ü–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `uploads/` –æ–±—Ä–∞—Ç–Ω–æ –∏–∑ XAMPP –≤ dev.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ sync.bat:**
```bat
@echo off
echo [1/3] Syncing Backend (without uploads)...
robocopy "backend" "C:\xampp\htdocs\healthcare-cms-backend" ^
    /MIR ^
    /XD "public\uploads" ^
    /R:1 /W:1 /NP /NFL /NDL /NJH /NJS

echo [2/3] Syncing Frontend...
robocopy "frontend" "C:\xampp\htdocs\visual-editor-standalone" /MIR ...

echo [3/3] Syncing uploads back to DEV...
robocopy "C:\xampp\htdocs\healthcare-cms-backend\public\uploads" ^
         "backend\public\uploads" ^
         /E /R:1 /W:1 /NP /NFL /NDL /NJH /NJS
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û–±–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ–¥–∏–∞—Ç–µ–∫—É –≤ dev

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚ùå –õ–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ç—É–¥–∞-—Å—é–¥–∞

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—É—é –ø–∞–ø–∫—É uploads (symlink)

**–ò–¥–µ—è:** –°–æ–∑–¥–∞—Ç—å symbolic link, —á—Ç–æ–±—ã –æ–±–µ –ø–∞–ø–∫–∏ —É–∫–∞–∑—ã–≤–∞–ª–∏ –Ω–∞ –æ–¥–Ω–æ –º–µ—Å—Ç–æ.

**–ö–æ–º–∞–Ω–¥–∞ (PowerShell –æ—Ç –∞–¥–º–∏–Ω–∞):**
```powershell
# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –ø–∞–ø–∫—É –≤ dev
Remove-Item "backend\public\uploads" -Recurse -Force

# –°–æ–∑–¥–∞—ë–º symlink
New-Item -ItemType SymbolicLink ^
    -Path "backend\public\uploads" ^
    -Target "C:\xampp\htdocs\healthcare-cms-backend\public\uploads"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –§–∞–π–ª—ã –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ (–Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚ùå –ú–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ git (symlink –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ)

---

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 4: –•—Ä–∞–Ω–∏—Ç—å uploads –≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ò–¥–µ—è:** –í—ã–Ω–µ—Å—Ç–∏ `uploads/` –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É, –æ–±—â—É—é –¥–ª—è dev –∏ XAMPP.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
C:\Projects\healthcare-uploads\  ‚Üê –ï–¥–∏–Ω–∞—è –ø–∞–ø–∫–∞
‚îú‚îÄ‚îÄ 987f1c3c-7d2e-43b6-b7c7-bebb5807ba65.png
‚îî‚îÄ‚îÄ da1bd342-60a2-4550-bed0-9db1ca2dfeea.jpg

backend/src/Application/UseCase/UploadMedia.php:
$uploadDir = 'C:/Projects/healthcare-uploads';
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç sync.bat

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (Apache alias –¥–ª—è `/uploads`)
- ‚ùå –ü—É—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –†–µ—à–µ–Ω–∏—è 1 + –æ—á–∏—Å—Ç–∫–∞ –ë–î

**–®–∞–≥ 1:** –ò—Å–∫–ª—é—á–∏—Ç—å `uploads/` –∏–∑ sync.bat
```bat
robocopy "backend" "C:\xampp\htdocs\healthcare-cms-backend" ^
    /MIR ^
    /XD "public\uploads" "logs" "vendor" ".git" ^
    /R:1 /W:1 /NP /NFL /NDL /NJH /NJS
```

**–®–∞–≥ 2:** –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å–∏ –∏–∑ –ë–î, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç —Ñ–∞–π–ª–æ–≤
```sql
-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ë–î –æ—Ç "–º—ë—Ä—Ç–≤—ã—Ö" —Å—Å—ã–ª–æ–∫
DELETE FROM media 
WHERE id NOT IN (
    SELECT id FROM media WHERE url LIKE '/uploads/da1bd342%'
    UNION SELECT id FROM media WHERE url LIKE '/uploads/1c134f11%'
    UNION SELECT id FROM media WHERE url LIKE '/uploads/32c79ed4%'
    UNION SELECT id FROM media WHERE url LIKE '/uploads/e3dfe46c%'
);
```

–ò–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å PHP —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
```php
// backend/scripts/cleanup-missing-media.php
$mediaRepo = new MySQLMediaRepository();
$allMedia = $mediaRepo->findAll();

foreach ($allMedia as $media) {
    $filepath = __DIR__ . '/../public' . $media->getUrl();
    if (!file_exists($filepath)) {
        echo "Deleting missing: {$media->getFilename()}\n";
        $mediaRepo->delete($media->getId());
    }
}
```

**–®–∞–≥ 3:** (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ uploads
```bat
rem –í sync.bat –î–û —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
echo [0/3] Backing up uploads...
robocopy "C:\xampp\htdocs\healthcare-cms-backend\public\uploads" ^
         "backups\uploads-%DATE%" ^
         /E /R:1 /W:1 /NP /NFL /NDL /NJH /NJS
```

---

## 6. –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü–ª–∞–Ω –ê: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (15 –º–∏–Ω—É—Ç)

1. **–ò–∑–º–µ–Ω–∏—Ç—å sync.bat:**
   ```bat
   robocopy ... /XD "public\uploads" "logs" "vendor"
   ```

2. **–û—á–∏—Å—Ç–∏—Ç—å –ë–î –æ—Ç –º—ë—Ä—Ç–≤—ã—Ö —Å—Å—ã–ª–æ–∫:**
   ```sql
   DELETE FROM media WHERE url LIKE '/uploads/987f1c3c%';
   DELETE FROM media WHERE url LIKE '/uploads/b6e5827e%';
   -- ... –∏ —Ç.–¥. –¥–ª—è –≤—Å–µ—Ö MISSING —Ñ–∞–π–ª–æ–≤
   ```

3. **–ó–∞–Ω–æ–≤–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω—É–∂–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —á–µ—Ä–µ–∑ –º–µ–¥–∏–∞—Ç–µ–∫—É**

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –º–µ–¥–∏–∞—Ç–µ–∫—É
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `sync.bat`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –ù–ï —É–¥–∞–ª–∏–ª–∞—Å—å
   - –û—Ç–∫—Ä—ã—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –∫–∞—Ä—Ç–∏–Ω–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

### –ü–ª–∞–Ω –ë: –ü–æ–ª–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (1 —á–∞—Å)

1. **–ò–∑–º–µ–Ω–∏—Ç—å sync.bat** (–∫–∞–∫ –≤ –ü–ª–∞–Ω–µ –ê)

2. **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ –ë–î:**
   ```php
   // backend/scripts/cleanup-missing-media.php
   require __DIR__ . '/../vendor/autoload.php';
   
   $mediaRepo = new \Infrastructure\Repository\MySQLMediaRepository();
   $uploadDir = __DIR__ . '/../public/uploads';
   
   $allMedia = $mediaRepo->findAll();
   $deleted = 0;
   
   foreach ($allMedia as $media) {
       $filename = basename($media->getUrl());
       $filepath = $uploadDir . '/' . $filename;
       
       if (!file_exists($filepath)) {
           echo "üóëÔ∏è  Deleting: {$media->getFilename()} (file not found)\n";
           $mediaRepo->delete($media->getId());
           $deleted++;
       } else {
           echo "‚úÖ OK: {$media->getFilename()}\n";
       }
   }
   
   echo "\nTotal deleted: $deleted\n";
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏:**
   ```bash
   php backend/scripts/cleanup-missing-media.php
   ```

4. **–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–µ–¥–∏–∞—Ç–µ–∫–∏:**
   ```javascript
   // frontend/media-library.js
   async loadMediaFiles() {
       const files = await this.apiClient.getMedia();
       
       // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–æ–≤
       this.mediaFiles = await Promise.all(files.map(async (file) => {
           const available = await this.checkImageAvailable(file.url);
           return { ...file, available };
       }));
   }
   
   async checkImageAvailable(url) {
       try {
           const response = await fetch(url, { method: 'HEAD' });
           return response.ok;
       } catch {
           return false;
       }
   }
   ```

5. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ UI –¥–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:**
   ```html
   <div v-if="!file.available" class="file-unavailable-warning">
       ‚ö†Ô∏è –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   </div>
   ```

---

## 7. –ü—Ä–µ–≤–µ–Ω—Ü–∏—è –≤ –±—É–¥—É—â–µ–º

### 7.1 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

**–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `DEVELOPMENT_WORKFLOW.md`:**
```markdown
## –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞—Ç–µ–∫–æ–π

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ XAMPP –æ–∫—Ä—É–∂–µ–Ω–∏–µ!

### –ü—Ä–∞–≤–∏–ª–∞:
1. –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –º–µ–¥–∏–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ XAMPP (http://localhost/visual-editor-standalone/)
2. –ù–ï —É–¥–∞–ª—è–π—Ç–µ –≤—Ä—É—á–Ω—É—é —Ñ–∞–π–ª—ã –∏–∑ C:\xampp\htdocs\healthcare-cms-backend\public\uploads/
3. –ü—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ (sync.bat) uploads –ù–ï –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ü–∞–ø–∫–∞ C:\xampp\htdocs\healthcare-cms-backend\public\uploads/ –ù–ï –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –≤ Git
- –î–µ–ª–∞–π—Ç–µ backup –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
  ```
  robocopy "C:\xampp\htdocs\healthcare-cms-backend\public\uploads" "backups\uploads-%DATE%" /E
  ```
```

---

### 7.2 Gitignore –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**backend/.gitignore:**
```
/public/uploads/*
!/public/uploads/.gitkeep
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ:
- –ü–∞–ø–∫–∞ `uploads/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ù–æ —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏ –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è (–∫—Ä–æ–º–µ `.gitkeep`)

---

### 7.3 –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–î–æ–±–∞–≤–∏—Ç—å –≤ CI/CD –∏–ª–∏ pre-commit hook:**
```bash
# scripts/validate-media.sh
echo "Checking media integrity..."
php backend/scripts/cleanup-missing-media.php --dry-run
if [ $? -ne 0 ]; then
    echo "‚ùå Media validation failed!"
    exit 1
fi
```

---

## 8. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Cloud Storage (–±—É–¥—É—â–µ–µ)

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**:

### AWS S3 / Google Cloud Storage / Azure Blob

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ CDN –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**
```php
// backend/src/Application/UseCase/UploadMedia.php
class UploadMedia
{
    private StorageInterface $storage; // S3Client –∏–ª–∏ LocalStorage
    
    public function execute(array $file, string $uploadedBy): MediaFile
    {
        // Upload to S3
        $url = $this->storage->upload($file);
        
        // Save metadata to DB
        $mediaFile = new MediaFile(..., url: $url);
        $this->mediaRepository->save($mediaFile);
        
        return $mediaFile;
    }
}
```

---

## 9. –†–µ–∑—é–º–µ

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
**sync.bat —Å —Ñ–ª–∞–≥–æ–º `/MIR` —É–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ XAMPP/uploads/, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏.**

### –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ
1. –î–æ–±–∞–≤–∏—Ç—å `/XD "public\uploads"` –≤ sync.bat
2. –û—á–∏—Å—Ç–∏—Ç—å –ë–î –æ—Ç –º—ë—Ä—Ç–≤—ã—Ö —Å—Å—ã–ª–æ–∫
3. –ó–∞–Ω–æ–≤–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω—É–∂–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
1. –ò—Å–∫–ª—é—á–∏—Ç—å uploads –∏–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ –ë–î
3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å workflow –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –º–µ–¥–∏–∞—Ç–µ–∫—É
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å sync.bat
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
Get-ChildItem "C:\xampp\htdocs\healthcare-cms-backend\public\uploads"
# –ö–∞—Ä—Ç–∏–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è!

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
curl http://localhost/healthcare-cms-backend/novaya-stranitsa
# –ö–∞—Ä—Ç–∏–Ω–∫–∞ about-section –¥–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
```

---

**–ê–≤—Ç–æ—Ä:** –ê–Ω–Ω–∞ –õ—é—Ç–µ–Ω–∫–æ + GitHub Copilot  
**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –†–µ—à–µ–Ω–∏–µ 1 (–∏—Å–∫–ª—é—á–∏—Ç—å uploads –∏–∑ sync)
