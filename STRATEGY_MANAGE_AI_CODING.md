# üìã –°–¢–†–ê–¢–ï–ì–ò–Ø –†–ê–ë–û–¢–´ –° –î–ï–®–Å–í–´–ú–ò –ù–ï–ô–†–û–°–ï–¢–Ø–ú–ò: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

**–î–∞—Ç–∞**: Oct 20, 2025  
**–ê–≤—Ç–æ—Ä**: GitHub Copilot  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ Oct 20 (MySQL crash –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI)  
**–í–∞–∂–Ω–æ—Å—Ç—å**: üî¥ CRITICAL - –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –í–°–ï–• –±—É–¥—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üìå –ü–†–û–ë–õ–ï–ú–ê: –ö–∞–∫ —ç—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å –≤ Oct 20

### –ß—Ç–æ –≤—ã –¥–µ–ª–∞–ª–∏ (–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```
1. –û—Ç–ø—Ä–∞–≤–∏–ª–∏ 10KB –ø—Ä–æ–º—Ç–∞ —Å –ü–û–õ–ù–´–ú –ø–ª–∞–Ω–æ–º Collection Pages
2. –ü–æ–ø—Ä–æ—Å–∏–ª–∏ "–¥–µ–π—Å—Ç–≤—É–π –¥–∞–ª—å—à–µ —Å—Ç—Ä–æ–≥–æ –ø–æ –ø—Ä–æ–º—Ç—É"
3. –ü–æ—Ç–æ–º –ø–æ–º–µ—à–∞–ª–∏ —Å "–î–æ–¥–µ–ª–∞–π —Ç–æ, —á—Ç–æ –Ω–µ —Å–¥–µ–ª–∞–Ω–∞ –ø–æ todos"
4. –°–ø–µ—à–∏–ª–∏, –±—ã–ª–∏ —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è
5. üí• MySQL CRASH

–ü—Ä–∏—á–∏–Ω—ã:
‚ùå AI –ø—Ä–æ—á–∏—Ç–∞–ª–∞ 50KB, –∑–∞–±—ã–ª–∞ –Ω–∞—á–∞–ª–æ
‚ùå –í—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∑–∞–¥–∞—á—É –ø–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚ùå –ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º—Ç–æ–≤
‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
‚ùå –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚ùå –ü–æ–ª–æ–≤–∏–Ω—á–∞—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è features
```

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

### –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:
> **–û–î–ù–ê –ê–¢–û–ú–ê–†–ù–ê–Ø –ó–ê–î–ê–ß–ê = –û–î–ò–ù –ü–†–û–ú–¢ = –û–î–ù–ê –ü–†–û–í–ï–†–ö–ê = –û–î–ò–ù –ö–û–ú–ú–ò–¢**

---

## üéØ –ü–†–ò–ù–¶–ò–ü 1: ATOMICITY

### –ß—Ç–æ —Ç–∞–∫–æ–µ "–∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞"?

**–ê—Ç–æ–º–∞—Ä–Ω–∞—è** = –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–∞—á–µ–Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ –µ—â–µ, –∏–º–µ–µ—Ç —á–µ—Ç–∫–∏–π result.

### –ü–õ–û–•–û (–Ω–µ–∞—Ç–æ–º–∞—Ä–Ω–æ–µ):
```
–ü—Ä–æ–º—Ç (10KB):
"–°–æ–∑–¥–∞–π GetCollectionItems, UpdateCollectionCardImage, CollectionController, 
–æ–±–Ω–æ–≤–∏ editor.js, –æ–±–Ω–æ–≤–∏ index.php, –¥–æ–±–∞–≤—å HTML UI, —Å–¥–µ–ª–∞–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–µ—Ç–æ–¥—ã, 
–æ–±–Ω–æ–≤–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã, —É—á—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Page.php..."

–ü—Ä–æ–±–ª–µ–º—ã:
- AI –∑–∞–±—ã–≤–∞–µ—Ç –Ω–∞—á–∞–ª–æ –ø—Ä–æ–º—Ç–∞
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è –Ω–∞ —à–∞–≥–µ 3, –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –ª–æ–º–∞–ª–æ—Å—å
- –ù–µ–ª—å–∑—è –æ—Ç–∫–∞—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —à–∞–≥ 2
- –í—Å–µ —Å–º–µ—à–∞–Ω–æ –≤ –æ–¥–Ω–æ–º –∫–æ–º–º–∏—Ç–µ
```

### –•–û–†–û–®–û (–∞—Ç–æ–º–∞—Ä–Ω–æ–µ):
```
–ó–ê–ü–†–û–° 1: "–°–æ–∑–¥–∞–π GetCollectionItems.php"
  ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ ‚Üí –ö–û–ú–ú–ò–¢

–ó–ê–ü–†–û–° 2: "–°–æ–∑–¥–∞–π UpdateCollectionCardImage.php"
  ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ ‚Üí –ö–û–ú–ú–ò–¢

–ó–ê–ü–†–û–° 3: "–°–æ–∑–¥–∞–π CollectionController.php"
  ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ ‚Üí –ö–û–ú–ú–ò–¢

–ó–ê–ü–†–û–° 4: "–û–±–Ω–æ–≤–∏ index.php - –¥–æ–±–∞–≤—å 2 —Ä–æ—É—Ç–∞"
  ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ ‚Üí –ö–û–ú–ú–ò–¢

–ó–ê–ü–†–û–° 5: "–î–æ–±–∞–≤—å –º–µ—Ç–æ–¥—ã –≤ editor.js"
  ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚úÖ ‚Üí –ö–û–ú–ú–ò–¢
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –ª—é–±–æ–π —à–∞–≥ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- ‚úÖ –í–∏–¥–Ω–æ —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–ª–æ–º–∞–ª–æ—Å—å
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–Ω—è—Ç–Ω–∞—è
- ‚úÖ –õ–µ–≥–∫–æ —Ä–µ–≤—å—é–∏—Ç—å
- ‚úÖ AI —Å–æ—Å—Ä–µ–¥–æ—Ç–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º

---

## üéØ –ü–†–ò–ù–¶–ò–ü 2: EXPLICIT SPECIFICATION

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —è–≤–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–º—Ç–∞

### –ü–õ–û–•–û (–Ω–µ—è–≤–Ω–æ–µ):
```
"–°–æ–∑–¥–∞–π GetCollectionItems Use Case, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é 
—Å—Ç—Ä–∞–Ω–∏—Ü –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–∏–ø–∞–º, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Å–µ–∫—Ü–∏—è–º 
–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏..."

–ü—Ä–æ–±–ª–µ–º—ã:
- "–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏" - –∫–∞–∫ –∏–º–µ–Ω–Ω–æ?
- –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å?
- –ö–∞–∫–æ–π return type?
- –ß—Ç–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫?
```

### –•–û–†–û–®–û (—è–≤–Ω–æ–µ):
```
–§–ê–ô–õ: backend/src/Application/UseCase/GetCollectionItems.php

–ö–õ–ê–°–° –î–û–õ–ñ–ï–ù:
1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç:
   - PageRepositoryInterface $pageRepository
   - BlockRepositoryInterface $blockRepository

2. –ú–µ—Ç–æ–¥ execute(string $collectionPageId): array
   
3. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç:
   [
     'sections' => [
       [
         'title' => '–ì–∞–π–¥—ã',
         'items' => [
           [
             'id' => 'uuid',
             'title' => '–ù–∞–∑–≤–∞–Ω–∏–µ',
             'snippet' => '–û–ø–∏—Å–∞–Ω–∏–µ',
             'image' => '/uploads/image.jpg',
             'url' => '/slug',
             'type' => 'guide',
             'publishedAt' => '2025-10-20'
           ]
         ]
       ]
     ]
   ]

4. –ê–ª–≥–æ—Ä–∏—Ç–º (–≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è):
   a) –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑ $pageRepository->findById($collectionPageId)
   b) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ Collection —Ç–∏–ø, –∏–Ω–∞—á–µ throw InvalidArgumentException
   c) –ü—Ä–æ—á–∏—Ç–∞—Ç—å $config = $page->getCollectionConfig()
   d) –ü–æ–ª—É—á–∏—Ç—å $sourceTypes = $config['sourceTypes'] ?? ['article', 'guide']
   e) –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
      $pages = $pageRepository->findByTypeAndStatus($type, 'published')
   f) –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ $allItems
   g) –ò—Å–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã: if in_array($page->id, $config['excludePages']) skip
   h) –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: usort() –ø–æ $config['sortBy'] –∏ $config['sortOrder']
   i) –õ–∏–º–∏—Ç: array_slice($allItems, 0, $config['limit'])
   j) –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–±—Ä–∞—Ç—å card:
      - –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–ª–æ–∫–∏: $blocks = $blockRepository->findByPageId($page->getId())
      - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É: $image = $page->getCardImage($blocks)
      - –°–æ–±—Ä–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å id, title, snippet, image, url, type, publishedAt
   k) –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–∫—Ü–∏—è–º (–µ—Å–ª–∏ $config['sections'] –Ω–µ –ø—É—Å—Ç–æ)
   l) –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ –≤—ã—à–µ

5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - PHP 8.2+
   - –ò—Å–ø–æ–ª—å–∑—É–π promoted properties –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
   - –ò—Å–ø–æ–ª—å–∑—É–π type hints –≤–µ–∑–¥–µ
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π static –º–µ—Ç–æ–¥—ã
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π global –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π magic methods (__call, etc)

6. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤:
   - –¢—Ä–µ–±—É–µ—Ç —á—Ç–æ Page::getCardImage() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –¢—Ä–µ–±—É–µ—Ç —á—Ç–æ PageRepository::findByTypeAndStatus() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   
–ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê:
- –û—Ç–≤–µ—Ç—å —Å –ü–û–õ–ù–´–ú —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Ñ–∞–π–ª–∞ (–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π)
- –¢–æ–ª—å–∫–æ –∫–æ–¥, –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ –∫–æ–¥–∞
- –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏: php -l filepath
```

**–†–∞–∑–Ω–∏—Ü–∞**:
- ‚úÖ –Ø–≤–Ω—ã–π –ø—É—Ç—å —Ñ–∞–π–ª–∞
- ‚úÖ –Ø–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã, return type)
- ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Å –±—É–∫–≤–∞–º–∏ a-l
- ‚úÖ –¢–æ—á–Ω—ã–π return format
- ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (PHP 8.2, promoted properties, no static)
- ‚úÖ –£–∫–∞–∑–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ß–µ—Ç–∫–∏–π request –¥–ª—è –æ—Ç–≤–µ—Ç–∞

---

## üéØ –ü–†–ò–ù–¶–ò–ü 3: VERIFICATION BEFORE NEXT STEP

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–æ–º—Ç–æ–º

### –ü—Ä–æ—Ü–µ—Å—Å:

```
–®–ê–ì–ò (–≤ –ø–æ—Ä—è–¥–∫–µ):

1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å GetCollectionItems.php
   ‚îî‚îÄ AI —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª
   
2Ô∏è‚É£ –ü–†–û–í–ï–†–ö–ê:
   a) php -l backend/src/Application/UseCase/GetCollectionItems.php
      ‚úÖ –î–û–õ–ñ–ù–û –ë–´–¢–¨: No syntax errors detected
      ‚ùå –ï–°–õ–ò –û–®–ò–ë–ö–ê: –í–µ—Ä–Ω–∏—Å—å –∫ AI, –ø–∏—à–∏ –Ω–æ–≤—ã–π –ø—Ä–æ–º—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
   
   b) –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª, –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ–¥ (—á—Ç–æ-—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Å—Ç—Ä–∞–Ω–Ω–æ?)
      ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ?
      ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç?
      ‚úÖ –ù–µ—Ç undefined variables?
      ‚úÖ –ù–µ—Ç –Ω–µ–ª–æ–≤–∫–∏—Ö copy-paste –æ—à–∏–±–æ–∫?
   
   c) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç –¥—Ä—É–≥–æ–π –∫–æ–¥:
      ‚úÖ Page::getCardImage() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
      ‚úÖ PageRepository::findByTypeAndStatus() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
      ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º –∫–æ–¥–æ–º?
   
3Ô∏è‚É£ –¢–û–õ–¨–ö–û –ï–°–õ–ò –í–°–ï –ü–†–û–í–ï–†–ö–ò ‚úÖ
   ‚îî‚îÄ git add backend/src/Application/UseCase/GetCollectionItems.php
   ‚îî‚îÄ git commit -m "Add GetCollectionItems use case"
   
4Ô∏è‚É£ –¢–ï–ü–ï–†–¨ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ñ–∞–π–ª—É
   ‚îî‚îÄ –°–æ–∑–¥–∞—Ç—å UpdateCollectionCardImage.php
```

---

## üõ°Ô∏è –ü–†–û–í–ï–†–û–ß–ù–´–ô –õ–ò–°–¢

### –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ö–ê–ñ–î–û–ì–û –ø—Ä–æ–º—Ç–∞ AI:

```
[ ] –Ø —Å–∞–º –ø—Ä–æ—á–∏—Ç–∞–ª(–∞) –ø–ª–∞–Ω –∏ –ø–æ–Ω–∏–º–∞—é —á—Ç–æ –Ω—É–∂–Ω–æ? –î–ê
[ ] –Ø –∑–Ω–∞—é —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞—é? –î–ê
[ ] –Ø —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª(–∞) —á—Ç–æ —ç—Ç–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç –¥—Ä—É–≥–æ–µ? –î–ê
[ ] –£ –º–µ–Ω—è –µ—Å—Ç—å backup —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–∞? –î–ê
[ ] –ü—Ä–æ–º—Ç —Ç–∞–∫ —è—Å–µ–Ω –∫–∞–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å? –î–ê
[ ] –≠—Ç–æ –æ–¥–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞? –î–ê
[ ] –Ø —É–∫–∞–∑–∞–ª(–∞) —Ç–æ—á–Ω—ã–π path —Ñ–∞–π–ª–∞? –î–ê
[ ] –Ø –æ–ø–∏—Å–∞–ª(–∞) input/output/algorithm? –î–ê
[ ] –Ø —É–∫–∞–∑–∞–ª(–∞) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (PHP 8.2, etc)? –î–ê
[ ] –Ø —É–∫–∞–∑–∞–ª(–∞) –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤? –î–ê

–ï–°–õ–ò –í–°–ï ‚úÖ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–π –ø—Ä–æ–º—Ç
–ï–°–õ–ò –•–û–¢–¨ –û–î–ò–ù ‚ùå ‚Üí –ø–µ—Ä–µ–¥–µ–ª–∞–π –ø—Ä–æ–º—Ç
```

### –ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI:

#### –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–í–ï–†–ö–ò (—Ç–µ—Å—Ç—ã):
```powershell
# 1Ô∏è‚É£ PHP SYNTAX CHECK (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ PHP)
php -l "backend/src/Application/UseCase/GetCollectionItems.php"
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ "No syntax errors detected" –∏–ª–∏ ‚ùå ERROR

# 2Ô∏è‚É£ STATIC ANALYSIS (phpstan - –Ω–µ –∑–∞–±—É–¥—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å!)
./vendor/bin/phpstan analyse backend/src/Application/UseCase/GetCollectionItems.php --level=8
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ "0 errors" –∏–ª–∏ ‚ùå –û–®–ò–ë–ö–ò

# 3Ô∏è‚É£ CODE STYLE CHECK (psalm –∏–ª–∏ –¥—Ä—É–≥–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä)
./vendor/bin/psalm backend/src/Application/UseCase/GetCollectionItems.php
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ ‚ùå ISSUES

# 4Ô∏è‚É£ UNIT TESTS (–µ—Å–ª–∏ —Ö–æ—á–µ—à—å –±—ã—Ç—å –∫—Ä—É—Ç–æ–π üöÄ)
./vendor/bin/phpunit tests/Application/UseCase/GetCollectionItemsTest.php
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ OK –∏–ª–∏ ‚ùå FAILED

# 5Ô∏è‚É£ INTEGRATION CHECK (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–º–ø–æ—Ä—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç)
php -r "require 'backend/src/Application/UseCase/GetCollectionItems.php'; echo 'OK';"
# –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è ‚Üí –æ—à–∏–±–∫–∞ —Å—Ä–∞–∑—É –≤–∏–¥–Ω–∞
```

#### –°–ö–†–ò–ü–¢ –î–õ–Ø –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò (—Å–æ–∑–¥–∞–π validate-ai-code.ps1):
```powershell
# validate-ai-code.ps1
param(
    [string]$FilePath = $(throw "File path required")
)

Write-Host "üîç –ü–†–û–í–ï–†–ö–ê –§–ê–ô–õ–ê: $FilePath" -ForegroundColor Cyan
$errors = @()

# 1Ô∏è‚É£ Syntax Check
Write-Host "`n1Ô∏è‚É£ PHP Syntax Check..." -ForegroundColor Yellow
$output = php -l $FilePath 2>&1
if ($output -like "*No syntax errors*") {
    Write-Host "   ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å OK" -ForegroundColor Green
} else {
    Write-Host "   ‚ùå –û–®–ò–ë–ö–ê –°–ò–ù–¢–ê–ö–°–ò–°–ê:" -ForegroundColor Red
    Write-Host $output -ForegroundColor Red
    $errors += "Syntax error"
}

# 2Ô∏è‚É£ PHPStan Analysis
if (Test-Path "./vendor/bin/phpstan") {
    Write-Host "`n2Ô∏è‚É£ PHPStan Static Analysis..." -ForegroundColor Yellow
    $stanOutput = & ./vendor/bin/phpstan analyse $FilePath --level=8 2>&1
    if ($stanOutput -like "*0 errors*" -or $stanOutput -like "*No errors*") {
        Write-Host "   ‚úÖ PHPStan OK" -ForegroundColor Green
    } else {
        Write-Host "   ‚ö†Ô∏è  PHPStan Issues:" -ForegroundColor Yellow
        Write-Host $stanOutput -ForegroundColor Yellow
        # –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º –≤ $errors - —ç—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ
    }
}

# 3Ô∏è‚É£ Import Check
Write-Host "`n3Ô∏è‚É£ Import/Require Check..." -ForegroundColor Yellow
try {
    $output = php -r "require '$FilePath'; echo 'OK';" 2>&1
    if ($output -like "*OK*") {
        Write-Host "   ‚úÖ –ò–º–ø–æ—Ä—Ç—ã OK" -ForegroundColor Green
    } else {
        Write-Host "   ‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞:" -ForegroundColor Red
        Write-Host $output -ForegroundColor Red
        $errors += "Import error"
    }
} catch {
    Write-Host "   ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–º–ø–æ—Ä—Ç–∞:" -ForegroundColor Red
    Write-Host $_.Exception.Message -ForegroundColor Red
    $errors += "Import check failed"
}

# 4Ô∏è‚É£ File Size Check (–Ω–µ —Å–ª–∏—à–∫–æ–º –ª–∏ –±–æ–ª—å—à–æ–π?)
$fileSize = (Get-Item $FilePath).Length
if ($fileSize -gt 50KB) {
    Write-Host "`n‚ö†Ô∏è  –í–Ω–∏–º–∞–Ω–∏–µ: —Ñ–∞–π–ª –±–æ–ª—å—à–æ–π ($([Math]::Round($fileSize/1KB, 2)) KB)" -ForegroundColor Yellow
}

# –†–ï–ó–£–õ–¨–¢–ê–¢
Write-Host "`n" + ("="*50) -ForegroundColor Cyan
if ($errors.Count -eq 0) {
    Write-Host "‚úÖ –í–°–ï –ü–†–û–í–ï–†–ö–ò –ü–†–û–ô–î–ï–ù–´!" -ForegroundColor Green
    Write-Host "–ú–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å: git add && git commit" -ForegroundColor Green
    exit 0
} else {
    Write-Host "‚ùå –ù–ê–ô–î–ï–ù–´ –û–®–ò–ë–ö–ò:" -ForegroundColor Red
    $errors | ForEach-Object { Write-Host "   - $_" -ForegroundColor Red }
    Write-Host "–ü–æ–ø—Ä–æ—Å–∏ AI –∏—Å–ø—Ä–∞–≤–∏—Ç—å!" -ForegroundColor Red
    exit 1
}
```

#### –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:
```powershell
# –ó–∞–ø—É—Å—Ç–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç AI:
.\validate-ai-code.ps1 -FilePath "backend/src/Application/UseCase/GetCollectionItems.php"

# –ï—Å–ª–∏ –≤–µ—Ä–Ω–µ—Ç exit code 0 ‚Üí –º–æ–∂–µ—à—å –∫–æ–º–º–∏—Ç–∏—Ç—å
# –ï—Å–ª–∏ –≤–µ—Ä–Ω–µ—Ç exit code 1 ‚Üí –µ—Å—Ç—å –æ—à–∏–±–∫–∏
```

#### –†–£–ß–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –û–°–¢–ê–ù–ï–¢–°–Ø (–Ω–æ —É–∂–µ –ø—Ä–æ—â–µ):
```
[ ] –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –∏ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å (–∏—â–µ—à—å —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –Ω–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
[ ] –ú–µ—Ç–æ–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö? (–∏—â–µ—à—å –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω)
[ ] –§–æ—Ä–º–∞—Ç return matches —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏? (—Å—Ä–∞–≤–Ω–∏ —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏–∑ –ø—Ä–æ–º—Ç–∞)

–ï–°–õ–ò –í–°–ï –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï ‚úÖ –ò –†–£–ß–ù–´–ï ‚úÖ ‚Üí git commit
–ï–°–õ–ò –•–û–¢–¨ –û–î–ù–ê ‚ùå ‚Üí –ù–æ–≤—ã–π –ø—Ä–æ–º—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
```

---

## üöÄ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: UNIT –¢–ï–°–¢–´

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å—É–ø–µ—Ä –Ω–∞–¥–µ–∂–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, –º–æ–∂–µ—à—å –ø—Ä–æ—Å–∏—Ç—å AI —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª + —Ç–µ—Å—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

```markdown
# –ó–ê–î–ê–ß–ê: –°–æ–∑–¥–∞—Ç—å GetCollectionItems + –¢–µ—Å—Ç

## –†–µ–∑—É–ª—å—Ç–∞—Ç:
–î–≤–∞ —Ñ–∞–π–ª–∞:
1. backend/src/Application/UseCase/GetCollectionItems.php
2. backend/tests/Application/UseCase/GetCollectionItemsTest.php

## –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω:
- –°–æ–∑–¥–∞–≤–∞—Ç—å mock –æ–±—ä–µ–∫—Ç—ã –¥–ª—è PageRepository –∏ BlockRepository
- –í—ã–∑—ã–≤–∞—Ç—å execute() —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ –º–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤—ã–∑–≤–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## –ó–∞–ø—É—Å–∫:
./vendor/bin/phpunit backend/tests/Application/UseCase/GetCollectionItemsTest.php
```

–¢–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–Ω–µ—Ç —Ç–∞–∫–æ–π:
```powershell
php -l —Ñ–∞–π–ª                          # ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å
phpstan analyse —Ñ–∞–π–ª                 # ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
phpunit —Ç–µ—Å—Ç-–¥–ª—è-—Ñ–∞–π–ª–∞              # ‚úÖ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

---

## üìä –í–°–ï –ü–†–û–í–ï–†–ö–ò –í–ú–ï–°–¢–ï (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç):

```
–ü–û–°–õ–ï –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI:

‚úÖ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ï (—Å–∫—Ä–∏–ø—Ç):
  [ ] php -l —Ñ–∞–π–ª                         ‚Üí ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å OK
  [ ] phpstan analyse —Ñ–∞–π–ª                ‚Üí ‚úÖ –¢–∏–ø—ã OK
  [ ] php -r "require —Ñ–∞–π–ª"               ‚Üí ‚úÖ –ò–º–ø–æ—Ä—Ç—ã OK
  [ ] phpunit —Ç–µ—Å—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)            ‚Üí ‚úÖ –õ–æ–≥–∏–∫–∞ OK

‚úÖ –†–£–ß–ù–ê–Ø (–±—ã—Å—Ç—Ä–æ):
  [ ] –û—Ç–∫—Ä—ã—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å (–ª–æ–≥–∏–∫–∞ –≤–∏–¥–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π?)
  [ ] Return format matches —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏?

‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢:
  –ï—Å–ª–∏ –≤—Å–µ ‚úÖ ‚Üí git commit
  –ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω ‚ùå ‚Üí –Ω–æ–≤—ã–π –ø—Ä–æ–º—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
```

–ì–æ—Ä–∞–∑–¥–æ –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ! üöÄ


---

## üìã –®–ê–ë–õ–û–ù –ü–†–û–ú–¢–ê (–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –¥–ª—è –í–°–ï–• —Ñ–∞–π–ª–æ–≤)

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω:

```markdown
# –ó–ê–î–ê–ß–ê: [–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏]

## –ö–û–ù–¢–ï–ö–°–¢
- –§–∞–π–ª: [–ø–æ–ª–Ω—ã–π –ø—É—Ç—å]
- –Ø–∑—ã–∫: PHP 8.2
- –¢–∏–ø: [Entity / UseCase / Controller / Repository / etc]
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: [–æ—Ç –∫–∞–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏—Ç]
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –º–µ–Ω—è: [–∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —ç—Ç–æ–≥–æ]

## –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø

### –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `$param1` (type): –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π
- `$param2` (type): –æ–ø–∏—Å–∞–Ω–∏–µ

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (return type)
- type: –æ–ø–∏—Å–∞–Ω–∏–µ
- –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: {...}
- –∏–ª–∏: null –µ—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ X

### –ê–ª–≥–æ—Ä–∏—Ç–º (–ø–æ—à–∞–≥–æ–≤–æ, –≤ –ü–û–†–Ø–î–ö–ï –í–´–ü–û–õ–ù–ï–ù–ò–Ø)
1. –®–∞–≥ 1: [–æ–ø–∏—Å–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å]
2. –®–∞–≥ 2: [–æ–ø–∏—Å–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏]
3. –®–∞–≥ N: [–ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥]

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
- –Ø–∑—ã–∫: PHP 8.2
- –ò—Å–ø–æ–ª—å–∑—É–π: promoted properties, type hints –≤–µ–∑–¥–µ, readonly –≥–¥–µ –Ω—É–∂–Ω–æ
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π: static –º–µ—Ç–æ–¥—ã, global, magic methods, —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã: DDD, SOLID, Clean Code
- –ù–∏–∫–∞–∫–∏—Ö TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ï—Å–ª–∏ X ‚Üí throw InvalidArgumentException('message')
- –ï—Å–ª–∏ Y ‚Üí throw RuntimeException('message')
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ? [–î–∞/–ù–µ—Ç, –µ—Å–ª–∏ –¥–∞ - –∫–∞–∫]

## –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø (–Ω–∞ PHP)
```php
$useCase = new GetCollectionItems($pageRepository, $blockRepository);
$result = $useCase->execute('collection-page-uuid-123');
// $result = ['sections' => [{'title' => '–ì–∞–π–¥—ã', 'items' => [...]}]]

// –ò–ª–∏ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞:
// throws InvalidArgumentException –µ—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ Collection
```

## –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
- –û—Ç–≤–µ—Ç—å –¢–û–õ–¨–ö–û —Å –ø–æ–ª–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Ñ–∞–π–ª–∞
- –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ –∫–æ–¥–∞
- –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ `php -l filepath`
- –ù–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π, –ø–æ–ª–Ω—ã–π —Ñ–∞–π–ª –æ—Ç <?php –¥–æ –∫–æ–Ω—Ü–∞
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:

```markdown
# –ó–ê–î–ê–ß–ê: –°–æ–∑–¥–∞—Ç—å GetCollectionItems Use Case

## –ö–û–ù–¢–ï–ö–°–¢
- –§–∞–π–ª: backend/src/Application/UseCase/GetCollectionItems.php
- –Ø–∑—ã–∫: PHP 8.2
- –¢–∏–ø: UseCase (Application Layer)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: PageRepositoryInterface, BlockRepositoryInterface
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –º–µ–Ω—è: CollectionController –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç use case

## –°–ü–ï–¶–ò–§–ò–ö–ê–¶–ò–Ø

### –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `$collectionPageId` (string): UUID —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ç–∏–ø–∞ 'collection'

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –¢–∏–ø: array
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```json
{
  "sections": [
    {
      "title": "–ì–∞–π–¥—ã",
      "items": [
        {
          "id": "uuid",
          "title": "–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –≤—Ä–∞—á–∞",
          "snippet": "–°–æ–≤–µ—Ç—ã –¥–ª—è —ç–∫—Å–ø–∞—Ç–æ–≤",
          "image": "/uploads/image.jpg",
          "url": "/kak-vybrat-vracha",
          "type": "guide",
          "publishedAt": "2025-10-20"
        }
      ]
    }
  ]
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É: $collection = $this->pageRepository->findById($collectionPageId)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø: if (!$collection || !$collection->getType()->isCollection()) throw InvalidArgumentException
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å config: $config = $collection->getCollectionConfig() ?? []
4. –ü–æ–ª—É—á–∏—Ç—å —Ç–∏–ø—ã: $sourceTypes = $config['sourceTypes'] ?? ['article', 'guide']
5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞: $this->pageRepository->findByTypeAndStatus($type, 'published')
6. –ò—Å–∫–ª—é—á–∏—Ç—å: —É–¥–∞–ª–∏—Ç—å –∏–∑ –º–∞—Å—Å–∏–≤–∞ –≤—Å–µ —Å ID –≤ $config['excludePages']
7. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å: usort –ø–æ $config['sortBy'] (publishedAt/title/createdAt) –∏ $config['sortOrder'] (asc/desc)
8. –õ–∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å: array_slice($allItems, 0, $config['limit']) –µ—Å–ª–∏ limit —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
9. –î–ª—è –∫–∞–∂–¥–æ–π: –∑–∞–≥—Ä—É–∑–∏—Ç—å –±–ª–æ–∫–∏, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É, —Å–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç cards
10. –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å: –ø–æ —Å–µ–∫—Ü–∏—è–º –∏–∑ $config['sections'] –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
11. –í–µ—Ä–Ω—É—Ç—å: ['sections' => [[title, items], ...]]

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- PHP 8.2
- –ò—Å–ø–æ–ª—å–∑—É–π: promoted properties, type hints
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π: static, global, magic methods

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ï—Å–ª–∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø: throw InvalidArgumentException

## –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø
```php
$useCase = new GetCollectionItems($pageRepo, $blockRepo);
$result = $useCase->execute('uuid-123');
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: ['sections' => [['title' => '–ì–∞–π–¥—ã', 'items' => [...]]]]
```

## –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê
- –û—Ç–≤–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å –ø–æ–ª–Ω—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º
- php -l –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
```

---

## üìù –ü–û–®–ê–ì–û–í–´–ô –ü–†–û–¶–ï–°–° –î–õ–Ø COLLECTION PAGES

### –î–µ–Ω—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

```
–ó–ê–î–ê–ß–ê 0: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫
‚îî‚îÄ –§–∞–π–ª: COLLECTION_PAGES_IMPLEMENTATION_CHECKLIST.md
‚îî‚îÄ –ü—Ä–æ–º—Ç: "–°–æ–∑–¥–∞–π —Ñ–∞–π–ª —Å —Ç–∞–±–ª–∏—Ü–µ–π —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏"
‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç:
   
   ‚úÖ GetCollectionItems.php (Use Case) - NOT STARTED
   ‚úÖ UpdateCollectionCardImage.php (Use Case) - NOT STARTED
   ‚úÖ CollectionController.php (Controller) - NOT STARTED
   ‚úÖ index.php (—Ä–æ—É—Ç—ã) - NOT STARTED
   ‚úÖ editor.js (–º–µ—Ç–æ–¥—ã) - NOT STARTED
   ‚úÖ editor.html (UI) - NOT STARTED
   ‚úÖ End-to-end —Ç–µ—Å—Ç - NOT STARTED

–ó–ê–î–ê–ß–ê 1: –£—Ç–æ—á–Ω–∏—Ç—å –ø–ª–∞–Ω
‚îî‚îÄ –ü—Ä–æ–º—Ç: "–†–∞—Å–ø–∏—à–∏ —Ç–æ—á–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è Collection"
‚îî‚îÄ –†–µ–∑—É–ª—å—Ç–∞—Ç: –§–∞–π–ª —Å —è–≤–Ω—ã–º–∏ interface definitions
```

### –î–µ–Ω—å 2: Backend Use Cases

```
–®–ê–ì–ò (–∫–∞–∂–¥—ã–π = –æ–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç):

1Ô∏è‚É£ GetCollectionItems.php
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: [–∏—Å–ø–æ–ª—å–∑—É–π –®–ê–ë–õ–û–ù –≤—ã—à–µ]
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: php -l, no syntax errors, imports —Ä–∞–±–æ—Ç–∞—é—Ç
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add GetCollectionItems use case"

2Ô∏è‚É£ UpdateCollectionCardImage.php
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: [–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –¥–ª—è update]
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: php -l, no syntax errors
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add UpdateCollectionCardImage use case"

3Ô∏è‚É£ –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –≤ Page.php (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: "–î–æ–±–∞–≤—å –º–µ—Ç–æ–¥—ã getCardImage() –∏ setCardImage() –≤ Page.php"
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: php -l, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–º
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add getCardImage/setCardImage to Page entity"
```

### –î–µ–Ω—å 2b: Backend Controller

```
4Ô∏è‚É£ CollectionController.php
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: "–°–æ–∑–¥–∞–π CollectionController —Å –¥–≤—É–º—è –º–µ—Ç–æ–¥–∞–º–∏:
      - public function getItems(string $pageId): void
      - public function updateCardImage(string $pageId): void
      
      –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã:
      - –°–æ–∑–¥–∞–≤–∞—Ç—å use case –æ–±—ä–µ–∫—Ç—ã
      - –í—ã–∑—ã–≤–∞—Ç—å execute()
      - –í–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON –æ—Ç–≤–µ—Ç
      
      [—Ç–æ—á–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–∞–∫ –≤—ã—à–µ]"
   
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: php -l, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ–±–∞ use cases, no errors
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add CollectionController"

5Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç—å index.php (—Ä–æ—É—Ç—ã)
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: "–û–±–Ω–æ–≤–∏ backend/public/index.php:
      
      –î–æ–±–∞–≤—å –î–í–ê –Ω–æ–≤—ã—Ö —Ä–æ—É—Ç–∞ –ü–ï–†–ï–î —Ñ–∏–Ω–∞–ª—å–Ω—ã–º return 404:
      
      1. GET /api/pages/{id}/collection-items
         ‚Üí CollectionController::getItems()
      
      2. PATCH /api/pages/{id}/card-image
         ‚Üí CollectionController::updateCardImage()
      
      –ò—Å–ø–æ–ª—å–∑—É–π —Ç–µ–∫—É—â–∏–π routing pattern (if preg_match)
      
      [—Ç–æ—á–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è]"
   
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: –†–æ—É—Ç—ã –≤–∏–¥–Ω—ã –≤ –∫–æ–¥–µ, –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add collection routes to index.php"
```

### –î–µ–Ω—å 3: Frontend

```
6Ô∏è‚É£ –ú–µ—Ç–æ–¥—ã –≤ editor.js
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: "–î–æ–±–∞–≤—å –î–í–ê –º–µ—Ç–æ–¥–∞ –≤ –∫–ª–∞—Å—Å editor:
      
      async loadCollectionItems() {
        –î–õ–Ø: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
        –î–ï–õ–ê–ï–¢: GET /api/pages/{this.pageData.id}/collection-items
        –°–û–•–†–ê–ù–Ø–ï–¢: response –≤ this.collectionItems
      }
      
      async updateCardImage(targetPageId, newImageUrl) {
        –î–õ–Ø: –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ UI –ø—Ä–∏ –∫–ª–∏–∫–µ '–ò–∑–º–µ–Ω–∏—Ç—å'
        –î–ï–õ–ê–ï–¢: PATCH /api/pages/{this.pageData.id}/card-image
        BODY: {targetPageId, imageUrl: newImageUrl}
        –ü–û–¢–û–ú: this.loadCollectionItems()
      }
      
      [—Ç–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, error handling]"
   
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: JS —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –º–µ—Ç–æ–¥—ã –≤–∏–¥–Ω—ã
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add loadCollectionItems and updateCardImage to editor.js"

7Ô∏è‚É£ HTML UI –≤ editor.html
   ‚îî‚îÄ –ü—Ä–æ–º—Ç: "–î–æ–±–∞–≤—å HTML –±–ª–æ–∫ –î–û –∑–∞–∫—Ä—ã—Ç–∏—è </body>:
      
      <div v-if=\"pageData.type === 'collection' && collectionItems\">
        <h3>–≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏</h3>
        <div v-for=\"section in collectionItems.sections\" :key=\"section.title\">
          <h4>{{ section.title }}</h4>
          <div class=\"collection-cards\">
            <div v-for=\"item in section.items\" :key=\"item.id\" class=\"collection-card\">
              <img :src=\"item.image\" :alt=\"item.title\">
              <h5>{{ item.title }}</h5>
              <p>{{ item.snippet }}</p>
              <button @click=\"updateCardImage(item.id, selectImage())\">–ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É</button>
            </div>
          </div>
        </div>
      </div>
      
      [CSS –∫–ª–∞—Å—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞]"
   
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞: HTML –≤–∏–¥–∏–º–æ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–µ, no syntax errors
   ‚îî‚îÄ –ö–æ–º–º–∏—Ç: "Add collection items UI to editor.html"
```

### –î–µ–Ω—å 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```
8Ô∏è‚É£ Smoke test
   ‚îî‚îÄ –°–æ–∑–¥–∞—Ç—å –Ω–∞ XAMPP:
      1. POST /api/pages
         type: 'collection'
         collectionConfig: {...}
      2. GET /api/pages/{id}/collection-items ‚Üí 200 OK ‚úÖ
      3. –°–æ–∑–¥–∞—Ç—å article —Å—Ç—Ä–∞–Ω–∏—Ü—É
      4. GET /api/pages/{collection-id}/collection-items ‚Üí article –≤ —Å–ø–∏—Å–∫–µ ‚úÖ
      5. PATCH /api/pages/{collection-id}/card-image ‚Üí 200 OK ‚úÖ
      6. Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é ‚úÖ
```

---

## üõ°Ô∏è –°–¢–†–ê–•–û–í–ö–ò (–ß—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞—Ç—å)

### 1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º—Ç–æ–≤

```
–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É: prompts/
–°–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞–∂–¥—ã–π –ø—Ä–æ–º—Ç:

prompts/001_GetCollectionItems_spec.md
prompts/002_UpdateCollectionCardImage_spec.md
prompts/003_CollectionController_spec.md
prompts/004_UpdateIndexphp_routes.md
prompts/005_EditorJS_methods.md
prompts/006_EditorHTML_ui.md

–¢–∞–∫ –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ–ø—Ä–æ—Å–∏–ª–∏ AI
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å —Ç–µ–º –∂–µ –ø—Ä–æ–º—Ç–æ–º
```

### 2. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

```powershell
# –î–û —Ç–æ–≥–æ –∫–∞–∫ –∏–∑–º–µ–Ω—è–µ—à—å —Ñ–∞–π–ª —á–µ—Ä–µ–∑ AI:
$file = "backend/src/Application/UseCase/GetCollectionItems.php"
git diff $file > "diffs/GetCollectionItems_before.diff"

# –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ AI —Å–æ–∑–¥–∞–ª–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é:
git diff $file > "diffs/GetCollectionItems_after.diff"

# –°—Ä–∞–≤–Ω–∏—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:
diff "diffs/GetCollectionItems_before.diff" "diffs/GetCollectionItems_after.diff"
```

### 3. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ-–æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏

```
–ù–ò–ö–û–ì–î–ê –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–π —ç—Ç—É –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

1Ô∏è‚É£ PHP SYNTAX CHECK (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–≤—ã–º)
   php -l "backend/src/Application/UseCase/GetCollectionItems.php"
   –†–µ–∑—É–ª—å—Ç–∞—Ç: "No syntax errors detected" –∏–ª–∏ STOP!

2Ô∏è‚É£ STATIC ANALYSIS (–µ—Å–ª–∏ –µ—Å—Ç—å phpstan)
   ./vendor/bin/phpstan analyse backend/src/Application/UseCase/GetCollectionItems.php
   –í—Å–µ green? Continue. Red? STOP!

3Ô∏è‚É£ MANUAL CODE REVIEW (–æ—Ç–∫—Ä—ã—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å)
   - –ò–º–ø–æ—Ä—Ç—ã –≤–µ—Ä–Ω—ã–µ?
   - –ú–µ—Ç–æ–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö?
   - –ù–µ—Ç undefined variables?
   - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã?

4Ô∏è‚É£ INTEGRATION CHECK (–Ω–µ —Å–ª–æ–º–∞–µ—Ç –ª–∏ –¥—Ä—É–≥–æ–µ?)
   - Page::getCardImage() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
   - PageRepository::findByTypeAndStatus() —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
   - –ù–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º –∫–æ–¥–æ–º?

5Ô∏è‚É£ COMMIT (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –í–°–ï –≤—ã—à–µ –ø—Ä–æ—à–ª–∏ ‚úÖ)
   git add backend/src/Application/UseCase/GetCollectionItems.php
   git commit -m "Add GetCollectionItems use case"
```

### 4. –û—Ç–∫–∞—Ç –µ—Å–ª–∏ —Å–ª–æ–º–∞–ª–æ—Å—å

```
–í–ê–†–ò–ê–ù–¢ 1 (–ë—ã—Å—Ç—Ä–æ, –µ—Å–ª–∏ –Ω–∞ git):
git checkout backend/src/Application/UseCase/GetCollectionItems.php

–í–ê–†–ò–ê–ù–¢ 2 (–ò—Å–ø—Ä–∞–≤–∏—Ç—å AI):
–ù–æ–≤—ã–π –ø—Ä–æ–º—Ç:
"GetCollectionItems.php –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—É: [–æ–ø–∏—Å–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ]

–û—à–∏–±–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ X, —Å—Ç—Ä–æ–∫–∞—Ö Y-Z:
[–ø—è—Ç—å —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π]
[–æ—à–∏–±–æ—á–Ω—ã–π –∫–æ–¥]
[–ø—è—Ç—å —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏]

–ü—Ä–æ–±–ª–µ–º–∞: [—á—Ç–æ –Ω–µ —Ç–∞–∫]

–ò—Å–ø—Ä–∞–≤—å —Ç–æ–ª—å–∫–æ —ç—Ç—É —á–∞—Å—Ç—å:
[–∫–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å]

–û—Ç–≤–µ—Ç—å —Å –ü–û–õ–ù–´–ú –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è."

–í–ê–†–ò–ê–ù–¢ 3 (–ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∑–∞–Ω–æ–≤–æ):
rm backend/src/Application/UseCase/GetCollectionItems.php
# –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–º—Ç —Å –µ—â–µ –±–æ–ª–µ–µ —è—Å–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
```

---

## üìä –ú–ê–¢–†–ò–¶–ê –†–ï–®–ï–ù–ò–ô: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏...

### –ï—Å–ª–∏ AI —Å–æ–∑–¥–∞–ª–∞ —Ñ–∞–π–ª —Å –æ—à–∏–±–∫–∞–º–∏:

| –û—à–∏–±–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –ü—Ä–æ–º—Ç |
|--------|----------|-------|
| –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (php -l fails) | –ü–æ–ø—Ä–æ—Å–∏—Ç—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–æ–∫—É | "–ò—Å–ø—Ä–∞–≤—å —Å—Ç—Ä–æ–∫—É X, –ø—Ä–æ–±–ª–µ–º–∞: ..." |
| Undefined method | –ù–æ–≤—ã–π –ø—Ä–æ–º—Ç –±–æ–ª–µ–µ —è–≤–Ω—ã–π –ø—Ä–æ —Å–∏–≥–Ω–∞—Ç—É—Ä—É | "–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–∏ –º–µ—Ç–æ–¥—ã: ..." |
| Wrong return type | –ü–æ–∫–∞–∑–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–π format | "–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è: {...}" |
| Missing import | –ü–æ–ø—Ä–æ—Å–∏—Ç—å –¥–æ–±–∞–≤–∏—Ç—å use statement | "–î–æ–±–∞–≤—å: use Domain\Repository\..." |
| Logic error | –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Å —Ç–æ—á–Ω—ã–º –ø–æ—à–∞–≥–æ–≤—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º | "–ê–ª–≥–æ—Ä–∏—Ç–º: 1. ... 2. ... " |

### –ï—Å–ª–∏ AI –∑–∞–±—ã–ª–∞ –ø–æ–ª–æ–≤–∏–Ω—É —Ñ–∞–π–ª–∞:

```
‚ùå –ù–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: "–ó–∞–≤–µ—Ä—à–∏ —Ñ–∞–π–ª"
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: "–û—Ç–≤–µ—Ç—å —Å –ü–û–õ–ù–´–ú –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º —Ñ–∞–π–ª–∞, –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—è"
```

### –ï—Å–ª–∏ AI —Å–æ–∑–¥–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```
–£—Ç–æ—á–Ω–∏ –ö–ê–ö–û–ô –∏–º–µ–Ω–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:
- Input/output format? –î–∞–π –ø—Ä–∏–º–µ—Ä
- –ê–ª–≥–æ—Ä–∏—Ç–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π? –û–ø–∏—à–∏ –≥–¥–µ
- –ú–µ—Ç–æ–¥—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç? –°–∫–∞–∂–∏ –∫–∞–∫–∏–µ
- Syntax errors? –ü–æ–∫–∞–∂–∏ —á—Ç–æ php -l –≤–µ—Ä–Ω—É–ª

–ü–æ—Ç–æ–º –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π –ø—Ä–æ–º—Ç —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏
```

---

## üéØ –ì–õ–ê–í–ù–û–ï –ü–†–ê–í–ò–õ–û

### –ó–∞–ø–æ–º–Ω–∏ –Ω–∞ –≤—Å–µ–≥–¥–∞:

> **–í–´ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å**  
> **AI ‚Äî –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É –∞—Ç–æ–º–∞—Ä–Ω—É—é –∑–∞–¥–∞—á—É**  
> 
> –ù–µ –¥–∞–≤–∞–π—Ç–µ AI:
> - ‚ùå –í—ã–±–∏—Ä–∞—Ç—å —á—Ç–æ –∫–æ–¥–∏—Ç—å (–≤—ã —Ä–µ—à–∞–µ—Ç–µ)
> - ‚ùå –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ (–≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ)
> - ‚ùå –ú–µ–Ω—è—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ö–æ–¥—É (–≤—ã –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç–µ)
> - ‚ùå –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å quality (–≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ)

### –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ AI:
> - ‚úÖ –ö–∞–∫ –ø–∏—Å—Ü–∞ (–ø–∏—à–µ—Ç –ø–æ –≤–∞—à–µ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏)
> - ‚úÖ –ö–∞–∫ –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–±—ã—Å—Ç—Ä–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç)
> - ‚úÖ –ö–∞–∫ –≤—Ç–æ—Ä–æ–π –≤–∑–≥–ª—è–¥ (–ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫–∏)

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú –ü–†–û–ú–¢–û–ú

### –ü–ï–†–ï–î –æ—Ç–ø—Ä–∞–≤–∫–æ–π:
```
[ ] –Ø —Å–∞–º(–∞) –ø—Ä–æ—á–∏—Ç–∞–ª(–∞) –ø–ª–∞–Ω? –î–ê
[ ] –Ø –∑–Ω–∞—é –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç? –î–ê
[ ] –Ø —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç –¥—Ä—É–≥–æ–µ? –î–ê
[ ] Backup —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏? –î–ê
[ ] –ü—Ä–æ–º—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —è–≤–Ω—ã–π? –î–ê
[ ] –≠—Ç–æ –æ–¥–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞? –î–ê
[ ] Path —Ñ–∞–π–ª–∞ —Ç–æ—á–Ω—ã–π? –î–ê
[ ] Input/output —É–∫–∞–∑–∞–Ω—ã? –î–ê
[ ] –ê–ª–≥–æ—Ä–∏—Ç–º –æ–ø–∏—Å–∞–Ω –ø–æ—à–∞–≥–æ–≤–æ? –î–ê
[ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω—ã (PHP 8.2, etc)? –î–ê
[ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã? –î–ê

–ï–°–õ–ò –í–°–ï ‚úÖ ‚Üí –û–¢–ü–†–ê–í–õ–Ø–ô
–ï–°–õ–ò –•–û–¢ –û–î–ò–ù ‚ùå ‚Üí –ü–ï–†–ï–î–ï–õ–ê–ô –ü–†–û–ú–¢
```

### –ü–û–°–õ–ï –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI:
```
[ ] php -l —Ñ–∞–π–ª (no syntax errors) ‚úÖ
[ ] –û—Ç–∫—Ä—ã—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ–¥ ‚úÖ
[ ] –ò–º–ø–æ—Ä—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ? ‚úÖ
[ ] –ú–µ—Ç–æ–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç? ‚úÖ
[ ] –ù–µ—Ç undefined? ‚úÖ
[ ] –§–æ—Ä–º–∞—Ç return –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π? ‚úÖ
[ ] –ù–µ —Å–ª–æ–º–∞–µ—Ç –¥—Ä—É–≥–æ–µ? ‚úÖ
[ ] –ß—Ç–æ-—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ–µ? ‚úÖ

–ï–°–õ–ò –í–°–ï ‚úÖ ‚Üí GIT COMMIT
–ï–°–õ–ò –•–û–¢ –û–î–ò–ù ‚ùå ‚Üí –ù–û–í–´–ô –ü–†–û–ú–¢ –° –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï–ú
```

---

## üöÄ –ö–†–ê–¢–ö–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø (–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥—ã–π —Ä–∞–∑)

### –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –ø—Ä–æ–º—Ç–∞:
1. –û—Ç–∫—Ä—ã—Ç—å –®–ê–ë–õ–û–ù –ü–†–û–ú–¢–ê (—Å–º. –≤—ã—à–µ)
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
3. –ü—Ä–æ–π—Ç–∏ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î (–≤—Å–µ ‚úÖ)
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å AI

### –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI:
1. –ü—Ä–æ–π—Ç–∏ –ß–ï–ö–õ–ò–°–¢ –ü–û–°–õ–ï (–≤—Å–µ ‚úÖ)
2. –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ ‚ùå ‚Üí –Ω–æ–≤—ã–π –ø—Ä–æ–º—Ç —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
3. –ï—Å–ª–∏ –≤—Å–µ ‚úÖ ‚Üí git commit
4. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ñ–∞–π–ª—É

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å:
1. –û—Ç–∫–∞—Ç–∏—Ç—å: git checkout —Ñ–∞–π–ª
2. –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å –ø—Ä–æ–º—Ç –±–æ–ª–µ–µ —è–≤–Ω–æ
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–Ω–æ–≤–∞

---

## üí° –ò–¢–û–ì–û–í–´–ô –°–û–í–ï–¢

**–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è –í–°–ï–• –±—É–¥—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:**

```
‚úÖ –û–¥–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞ = –æ–¥–∏–Ω –ø—Ä–æ–º—Ç
‚úÖ –Ø–≤–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (–Ω–µ —Ä–∞—Å–ø–ª—ã–≤—á–∞—Ç–∞—è)
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
‚úÖ –û—Ç–∫–∞—Ç –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫
‚úÖ –ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–æ–º–º–∏—Ç—ã, –ø–æ–Ω—è—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
‚úÖ –í–´ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ, AI –∏—Å–ø–æ–ª–Ω—è–µ—Ç

–†–ï–ó–£–õ–¨–¢–ê–¢:
‚Üí –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
‚Üí –õ–µ–≥—á–µ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å
‚Üí –ü–æ–Ω—è—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
‚Üí AI —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ (—Ñ–æ–∫—É—Å –Ω–∞ –æ–¥–Ω–æ)
‚Üí –í—ã —Å–ø–∏—Ç–µ —Å–ø–æ–∫–æ–π–Ω–µ–µ üò¥
```

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
- **POSTMORTEM_OCT_20_2025.md** - –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –Ω–∞ Oct 20
- **ROOT_CAUSE_ANALYSIS_OCT_20.md** - –ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
- **ANALYSIS_PLAN_VS_REALITY_OCT_20.md** - –ì–¥–µ –ø–ª–∞–Ω –Ω–µ –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

---

**–î–û–ö–£–ú–ï–ù–¢**: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—à—ë–≤—ã–º–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏  
**–î–ê–¢–ê –°–û–ó–î–ê–ù–ò–Ø**: Oct 20, 2025  
**–°–¢–ê–¢–£–°**: ‚úÖ FINAL, ready for use  
**–í–ê–ñ–ù–û–°–¢–¨**: üî¥ CRITICAL - –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –í–°–ï–• –ø—Ä–æ–µ–∫—Ç–æ–≤  
**–í–ï–†–°–ò–Ø**: 1.0

---

## üéì –§–ò–ù–ê–õ–¨–ù–ê–Ø –ú–£–î–†–û–°–¢–¨

> **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (AI, –∫–æ–¥, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏) ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.**  
> **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ü–†–û–¶–ï–°–° ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.**

–ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—é, –∏ –≤—ã –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å Oct 20 crashes. üöÄ
```

---

## üîÑ –ü–†–ê–í–ò–õ–¨–ù–´–ô GIT WORKFLOW –î–õ–Ø –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø –ò ROLLBACK

### –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?

**–ü—Ä–æ–±–ª–µ–º–∞ Oct 20**: –ù–µ—Ç –∫–æ–º–º–∏—Ç–æ–≤ ‚Üí 8 —á–∞—Å–æ–≤ –æ—Ç–ª–∞–¥–∫–∏ –≤—Ä—É—á–Ω—É—é, –∏–≥—Ä–∞ –≤ –¥–µ—Ç–µ–∫—Ç–∏–≤–∞ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Git workflow = rollback –≤ –ø–∞—Ä—É –∫–ª–∞–≤–∏—à + –ø–æ–Ω—è—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è.

---

## üéØ –û–°–ù–û–í–ù–´–ï –ü–†–ê–í–ò–õ–ê

### 1. **–ù–ï push –Ω–∞–ø—Ä—è–º—É—é –≤ main!**
```
‚ùå –†–∞–Ω—å—à–µ: git checkout main ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí git push
‚úÖ –¢–µ–ø–µ—Ä—å: feature –≤–µ—Ç–∫–∏ ‚Üí PR ‚Üí merge –≤ main
```

### 2. **–í–µ—Ç–∫–∏:**
- **`main`** (–∏–ª–∏ `master`) ‚Äî **—Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞**, —Ç–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥
- **`feature/–Ω–∞–∑–≤–∞–Ω–∏–µ`** ‚Äî –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á (–Ω–∞–ø—Ä–∏–º–µ—Ä: `feature/collection-pages`)
- **`hotfix/–Ω–∞–∑–≤–∞–Ω–∏–µ`** ‚Äî –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –±–∞–≥—Ñ–∏–∫—Å–æ–≤
- **`bugfix/–Ω–∞–∑–≤–∞–Ω–∏–µ`** ‚Äî –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### 3. **–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã:**
```powershell
# 1. –°–æ–∑–¥–∞—Ç—å feature –≤–µ—Ç–∫—É
git checkout -b feature/collection-pages

# 2. –†–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ–π (–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã)
git add .
git commit -m "Add GetCollectionItems use case"

# 3. Push feature –≤–µ—Ç–∫—É
git push -u origin feature/collection-pages

# 4. –°–æ–∑–¥–∞—Ç—å Pull Request –Ω–∞ GitHub (main ‚Üê feature/collection-pages)
# 5. –†–µ–≤—å—é + —Ç–µ—Å—Ç—ã ‚Üí merge –≤ main
```

---

## üöÄ ROLLBACK –í –ü–ê–†–£ –ö–õ–ê–í–ò–®

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π rollback (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é):
```powershell
# –û—Ç–º–µ–Ω—è–µ—Ç –∫–æ–º–º–∏—Ç, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é
git revert HEAD                    # –æ—Ç–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git revert HEAD~1                 # –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–∏–π
git revert HEAD~2..HEAD           # –æ—Ç–º–µ–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –∫–æ–º–º–∏—Ç–∞

# Push –∏–∑–º–µ–Ω–µ–Ω–∏–π
git push
```

### –ê–≤–∞—Ä–∏–π–Ω—ã–π rollback (–µ—Å–ª–∏ –≤—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å):
```powershell
# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É (—Ç–µ—Ä—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è!)
git reset --hard HEAD~1           # –æ—Ç–∫–∞—Ç –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥
git reset --hard abc1234          # –æ—Ç–∫–∞—Ç –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
git reflog                        # –Ω–∞–π—Ç–∏ SHA –ø–æ—Ç–µ—Ä—è–Ω–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
git checkout <SHA>               # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```

### Rollback –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:
```powershell
# –í–µ—Ä–Ω—É—Ç—å —Ñ–∞–π–ª –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
git checkout HEAD~1 -- backend/src/Application/UseCase/GetCollectionItems.php

# –ò–ª–∏ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
git checkout abc1234 -- backend/src/Application/UseCase/GetCollectionItems.php
```

---

## üìã –ü–û–õ–ù–´–ô –ü–†–û–¶–ï–°–° –î–õ–Ø –ù–û–í–û–ô –§–ò–ß–ò

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```powershell
# –£–±–µ–¥–∏—Å—å —á—Ç–æ main –æ–±–Ω–æ–≤–ª–µ–Ω
git checkout main
git pull origin main

# –°–æ–∑–¥–∞–π feature –≤–µ—Ç–∫—É
git checkout -b feature/collection-pages
```

### –®–∞–≥ 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã)
```powershell
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç AI:
git add backend/src/Application/UseCase/GetCollectionItems.php
git commit -m "Add GetCollectionItems use case"

git add backend/src/Application/UseCase/UpdateCollectionCardImage.php
git commit -m "Add UpdateCollectionCardImage use case"

# –ò —Ç.–¥.
```

### –®–∞–≥ 3: Push –∏ PR
```powershell
# Push feature –≤–µ—Ç–∫—É
git push -u origin feature/collection-pages

# –°–æ–∑–¥–∞–π Pull Request –Ω–∞ GitHub:
# - Base: main
# - Compare: feature/collection-pages
# - –û–ø–∏—Å–∞–Ω–∏–µ: —á—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
```

### –®–∞–≥ 4: Merge –∏ cleanup
```powershell
# –ü–æ—Å–ª–µ merge PR:
git checkout main
git pull origin main

# –£–¥–∞–ª–∏ feature –≤–µ—Ç–∫—É
git branch -d feature/collection-pages
git push origin --delete feature/collection-pages
```

---

## üõ°Ô∏è –°–¢–†–ê–•–û–í–ö–ò

### 1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–π –≤ main**
```powershell
# –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏–ª main:
git stash                    # —Å–ø—Ä—è—Ç–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git checkout -b feature/temp # —Å–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git stash pop               # –≤–µ—Ä–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

### 2. **–ü—Ä–æ–≤–µ—Ä—è–π –ø–µ—Ä–µ–¥ push**
```powershell
# –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —á—Ç–æ –ø—É—à–∏–º:
git status
git diff --name-only         # –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
git log --oneline -5         # –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
```

### 3. **Backup –ø–µ—Ä–µ–¥ –æ–ø–∞—Å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏**
```powershell
# –ü–µ—Ä–µ–¥ merge/rebase:
git branch backup/my-feature # —Å–æ–∑–¥–∞—Ç—å backup –≤–µ—Ç–∫—É
```

---

## üìä –ö–û–ì–î–ê –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –ö–ê–ñ–î–´–ô –¢–ò–ü ROLLBACK

| –°–∏—Ç—É–∞—Ü–∏—è | –ú–µ—Ç–æ–¥ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|-------|---------|
| **–•–æ—á—É –æ—Ç–º–µ–Ω–∏—Ç—å –±–∞–≥—Ñ–∏–∫—Å** | `git revert` | `git revert HEAD` |
| **–ö–æ–º–º–∏—Ç —Å–ª–æ–º–∞–ª –≤—Å—ë** | `git revert` | `git revert HEAD` |
| **–•–æ—á—É –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç** | `git reset` | `git reset --soft HEAD~1` |
| **–ö–æ–º–º–∏—Ç –±—ã–ª –æ—à–∏–±–∫–æ–π** | `git reset` | `git reset --hard HEAD~1` |
| **–ù—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å —Ñ–∞–π–ª** | `git checkout` | `git checkout HEAD~1 -- file` |

---

## üéØ –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–ú–ï–†

### –°—Ü–µ–Ω–∞—Ä–∏–π: AI —Å–ª–æ–º–∞–ª–∞ GetCollectionItems.php

```powershell
# 1. –í–∏–¥–∏–º —á—Ç–æ —Ñ–∞–π–ª —Å–ª–æ–º–∞–Ω
php -l backend/src/Application/UseCase/GetCollectionItems.php
# –û—à–∏–±–∫–∞!

# 2. –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º —Ñ–∞–π–ª
git checkout HEAD~1 -- backend/src/Application/UseCase/GetCollectionItems.php

# 3. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–º—Ç –¥–ª—è AI —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
# 4. –ü–æ–ª—É—á–∞–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
# 5. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∫–æ–º–º–∏—Ç–∏–º
php -l backend/src/Application/UseCase/GetCollectionItems.php # OK
git add backend/src/Application/UseCase/GetCollectionItems.php
git commit -m "Fix GetCollectionItems syntax error"
```

---

## üí° –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –°–û–í–ï–¢–´

### 1. **–°–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤**
```
‚ùå "fix" / "update" / "changes"
‚úÖ "Add GetCollectionItems use case with collection filtering"
‚úÖ "Fix XSS vulnerability in article rendering"
‚úÖ "Update collection routes in index.php"
```

### 2. **–†–∞–∑–º–µ—Ä –∫–æ–º–º–∏—Ç–æ–≤**
```
‚úÖ –û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç (–∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å)
‚úÖ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã = –æ–¥–∏–Ω –∫–æ–º–º–∏—Ç
‚ùå 10 —Ñ–∞–π–ª–æ–≤ –≤ –æ–¥–Ω–æ–º –∫–æ–º–º–∏—Ç–µ = —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
```

### 3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ merge**
```powershell
# –ü–µ—Ä–µ–¥ PR:
./vendor/bin/phpunit           # unit —Ç–µ—Å—Ç—ã
php -l *.php                  # syntax check
# Smoke tests –Ω–∞ XAMPP
```

### 4. **Git –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å**
```powershell
git status                    # —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?
git log --oneline -10         # –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git diff                      # —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git branch -a                 # –≤—Å–µ –≤–µ—Ç–∫–∏
git remote -v                 # remote —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```

---

## üö® –ß–¢–û –î–ï–õ–ê–¢–¨ –ï–°–õ–ò...

### **–ó–∞–±—ã–ª –≤ –∫–∞–∫–æ–π –≤–µ—Ç–∫–µ —Ä–∞–±–æ—Ç–∞—é:**
```powershell
git branch                    # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É (*)
```

### **–°–ª—É—á–∞–π–Ω–æ –∑–∞–ø—É—à–∏–ª –≤ main:**
```powershell
# –°–æ–∑–¥–∞–π hotfix –≤–µ—Ç–∫—É
git checkout -b hotfix/revert-bad-commit main
git revert HEAD              # –æ—Ç–º–µ–Ω–∏—Ç—å –ø–ª–æ—Ö–æ–π –∫–æ–º–º–∏—Ç
git push origin hotfix/revert-bad-commit
# –°–æ–∑–¥–∞–π PR: main ‚Üê hotfix/revert-bad-commit
```

### **Merge conflict:**
```powershell
# –ù–µ –ø–∞–Ω–∏–∫—É–π!
git status                    # –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç
# –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª—ã, —Ä–∞–∑—Ä–µ—à–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (–∏—â–∏ <<<<<<< HEAD)
git add resolved-file.php
git commit                   # git —Å–∞–º –ø—Ä–µ–¥–ª–æ–∂–∏—Ç merge commit message
```

### **–ü–æ—Ç–µ—Ä—è–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```powershell
git reflog                    # –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
git checkout <SHA>           # –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```

---

## üéì –ò–¢–û–ì

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Git workflow = –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å + —Å–∫–æ—Ä–æ—Å—Ç—å**

```
‚úÖ Feature branches = –∏–∑–æ–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚úÖ Pull Requests = —Ä–µ–≤—å—é –ø–µ—Ä–µ–¥ merge
‚úÖ –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã = –ª–µ–≥–∫–∏–π rollback
‚úÖ git revert = –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Ç–º–µ–Ω–∞
‚úÖ git log = –ø–æ–Ω—è—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è

–†–µ–∑—É–ª—å—Ç–∞—Ç: 
‚Üí –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç–µ—Ä—è–µ—à—å —Ä–∞–±–æ—Ç—É
‚Üí Rollback –∑–∞ 30 —Å–µ–∫—É–Ω–¥
‚Üí –ü–æ–Ω—è—Ç–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞
```

**–ó–∞–ø–æ–º–Ω–∏**: Git ‚Äî —Ç–≤–æ–π —Å—Ç—Ä–∞—Ö–æ–≤–æ–π –ø–æ–ª–∏—Å. –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üõ°Ô∏è

---

**–î–û–ö–£–ú–ï–ù–¢**: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—à—ë–≤—ã–º–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç—è–º–∏ + Git Workflow  
**–í–ï–†–°–ò–Ø**: 1.1 (–¥–æ–±–∞–≤–ª–µ–Ω Git workflow)  
**–î–ê–¢–ê**: Oct 20, 2025
